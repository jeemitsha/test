(self.webpackChunktradingview = self.webpackChunktradingview || []).push([
    [41588], {
        879823: e => {
            e.exports = {}
        },
        355012: e => {
            e.exports = {
                "text-button": "text-button-deo5q9FE",
                link: "link-deo5q9FE",
                content: "content-deo5q9FE",
                "text-button-brand-small": "text-button-brand-small-deo5q9FE",
                background: "background-deo5q9FE",
                "with-start-icon": "with-start-icon-deo5q9FE",
                "with-end-icon": "with-end-icon-deo5q9FE",
                "icon-only": "icon-only-deo5q9FE",
                "start-icon": "start-icon-deo5q9FE",
                "end-icon": "end-icon-deo5q9FE",
                hovered: "hovered-deo5q9FE",
                "states-without-bg": "states-without-bg-deo5q9FE",
                "disable-active-state-styles": "disable-active-state-styles-deo5q9FE",
                dimmed: "dimmed-deo5q9FE",
                selected: "selected-deo5q9FE",
                caret: "caret-deo5q9FE",
                "typography-semibold18px": "typography-semibold18px-deo5q9FE",
                "typography-semibold16px": "typography-semibold16px-deo5q9FE",
                "typography-semibold14px": "typography-semibold14px-deo5q9FE",
                "typography-regular14px": "typography-regular14px-deo5q9FE",
                "typography-regular16px": "typography-regular16px-deo5q9FE",
                "text-button-brand-medium": "text-button-brand-medium-deo5q9FE",
                "text-button-brand-large": "text-button-brand-large-deo5q9FE",
                "text-button-gray-small": "text-button-gray-small-deo5q9FE",
                "text-button-gray-medium": "text-button-gray-medium-deo5q9FE",
                "text-button-gray-large": "text-button-gray-large-deo5q9FE",
                "text-button-light-gray-small": "text-button-light-gray-small-deo5q9FE",
                "text-button-light-gray-medium": "text-button-light-gray-medium-deo5q9FE",
                "text-button-light-gray-large": "text-button-light-gray-large-deo5q9FE"
            }
        },
        538802: e => {
            e.exports = {
                container: "container-Layw3R3g",
                "container-danger": "container-danger-Layw3R3g",
                icon: "icon-Layw3R3g",
                header: "header-Layw3R3g",
                "container-warning": "container-warning-Layw3R3g",
                "container-success": "container-success-Layw3R3g",
                "container-default": "container-default-Layw3R3g",
                "text-wrap": "text-wrap-Layw3R3g",
                "close-button": "close-button-Layw3R3g",
                informerBody: "informerBody-Layw3R3g",
                mainProblem: "mainProblem-Layw3R3g",
                "header-inline": "header-inline-Layw3R3g",
                "header-new-line": "header-new-line-Layw3R3g"
            }
        },
        266657: e => {
            e.exports = {
                solutionLink: "solutionLink-KhM4oss0"
            }
        },
        359647: e => {
            e.exports = {
                widgetContainer: "widgetContainer-uMkNZGWI",
                widgetContainerWide: "widgetContainerWide-uMkNZGWI",
                hidden: "hidden-uMkNZGWI"
            }
        },
        124679: e => {
            e.exports = {
                widgetContainer: "widgetContainer-Lo3sdooi",
                hidden: "hidden-Lo3sdooi"
            }
        },
        732845: e => {
            e.exports = {
                container: "container-j1A5AQJr",
                checkBoxes: "checkBoxes-j1A5AQJr",
                checkboxContainer: "checkboxContainer-j1A5AQJr",
                tabs: "tabs-j1A5AQJr",
                label: "label-j1A5AQJr"
            }
        },
        652384: e => {
            e.exports = {
                container: "container-b1pZpka9",
                containerCell: "containerCell-b1pZpka9",
                firstRow: "firstRow-b1pZpka9",
                secondRow: "secondRow-b1pZpka9",
                negativeValue: "negativeValue-b1pZpka9",
                positiveValue: "positiveValue-b1pZpka9",
                title: "title-b1pZpka9",
                additionalPercent: "additionalPercent-b1pZpka9"
            }
        },
        779660: e => {
            e.exports = {
                legendContainer: "legendContainer-lHt16PTK",
                reportContainer: "reportContainer-lHt16PTK",
                chartContainer: "chartContainer-lHt16PTK"
            }
        },
        175951: e => {
            e.exports = {
                reportContainer: "reportContainer-KVbGsEC8"
            }
        },
        564049: e => {
            e.exports = {
                root: "root-kW6O0EkW",
                row: "row-kW6O0EkW",
                solution: "solution-kW6O0EkW",
                rowStatic: "rowStatic-kW6O0EkW",
                cell: "cell-kW6O0EkW",
                cellSmallPadding: "cellSmallPadding-kW6O0EkW",
                title: "title-kW6O0EkW",
                wrapped: "wrapped-kW6O0EkW",
                noWrapped: "noWrapped-kW6O0EkW",
                negativeValue: "negativeValue-kW6O0EkW",
                headCell: "headCell-kW6O0EkW",
                headSmallPadding: "headSmallPadding-kW6O0EkW",
                staticBackground: "staticBackground-kW6O0EkW",
                percentValue: "percentValue-kW6O0EkW",
                titleContainer: "titleContainer-kW6O0EkW"
            }
        },
        600284: e => {
            e.exports = {
                colorBox: "colorBox-yMVQTs0Y"
            }
        },
        536636: e => {
            e.exports = {
                reportViewContainer: "reportViewContainer-TSXYLyjV"
            }
        },
        996662: e => {
            e.exports = {
                section: "section-DWElvBen",
                isOpen: "isOpen-DWElvBen",
                container: "container-DWElvBen",
                title: "title-DWElvBen",
                arrow: "arrow-DWElvBen",
                expanded: "expanded-DWElvBen",
                minimizedData: "minimizedData-DWElvBen",
                minimizedName: "minimizedName-DWElvBen",
                minimizedValue: "minimizedValue-DWElvBen",
                sectionList: "sectionList-DWElvBen",
                elemContainer: "elemContainer-DWElvBen",
                elemData: "elemData-DWElvBen",
                elemTitle: "elemTitle-DWElvBen",
                colorBox: "colorBox-DWElvBen",
                symbolLogo: "symbolLogo-DWElvBen"
            }
        },
        598313: e => {
            e.exports = {
                root: "root-TKruYxYe",
                headCell: "headCell-TKruYxYe",
                tableWrapper: "tableWrapper-TKruYxYe",
                wrapperCell: "wrapperCell-TKruYxYe",
                wrapperValueCell: "wrapperValueCell-TKruYxYe",
                valueCell: "valueCell-TKruYxYe",
                openCell: "openCell-TKruYxYe",
                invisibleText: "invisibleText-TKruYxYe",
                border: "border-TKruYxYe",
                profitData: "profitData-TKruYxYe",
                row: "row-TKruYxYe",
                openPosition: "openPosition-TKruYxYe",
                rightAlign: "rightAlign-TKruYxYe",
                negativeValue: "negativeValue-TKruYxYe",
                percentValue: "percentValue-TKruYxYe",
                cancelCursor: "cancelCursor-TKruYxYe",
                static: "static-TKruYxYe"
            }
        },
        801397: e => {
            e.exports = {
                container: "container-UWIhh2yh",
                emptyStateIcon: "emptyStateIcon-UWIhh2yh"
            }
        },
        242819: e => {
            e.exports = {
                container: "container-Npqv5llt",
                hint: "hint-Npqv5llt",
                link: "link-Npqv5llt"
            }
        },
        959483: e => {
            e.exports = {
                container: "container-SnCmv_cH",
                title: "title-SnCmv_cH",
                icon: "icon-SnCmv_cH",
                text: "text-SnCmv_cH",
                text_large: "text_large-SnCmv_cH",
                action: "action-SnCmv_cH"
            }
        },
        39416: e => {
            e.exports = {
                wrap: "wrap-qKQlcmkd",
                wrapWithArrowsOuting: "wrapWithArrowsOuting-qKQlcmkd",
                wrapOverflow: "wrapOverflow-qKQlcmkd",
                scrollWrap: "scrollWrap-qKQlcmkd",
                noScrollBar: "noScrollBar-qKQlcmkd",
                icon: "icon-qKQlcmkd",
                scrollLeft: "scrollLeft-qKQlcmkd",
                scrollRight: "scrollRight-qKQlcmkd",
                isVisible: "isVisible-qKQlcmkd",
                iconWrap: "iconWrap-qKQlcmkd",
                fadeLeft: "fadeLeft-qKQlcmkd",
                fadeRight: "fadeRight-qKQlcmkd"
            }
        },
        953041: e => {
            e.exports = {
                "square-tab-button": "square-tab-button-Tm9B6mdh",
                selected: "selected-Tm9B6mdh",
                "disable-active-state-styles": "disable-active-state-styles-Tm9B6mdh",
                "disable-focus-outline": "disable-focus-outline-Tm9B6mdh",
                "size-medium": "size-medium-Tm9B6mdh",
                "size-small": "size-small-Tm9B6mdh",
                "size-xsmall": "size-xsmall-Tm9B6mdh",
                fake: "fake-Tm9B6mdh"
            }
        },
        724917: e => {
            e.exports = {
                "arrow-icon": "arrow-icon-Kk_Rv7ZA",
                dropped: "dropped-Kk_Rv7ZA"
            }
        },
        747115: e => {
            e.exports = {
                "css-value-square-tabs-xsmall-gap": "4px",
                "css-value-square-tabs-small-gap": "8px",
                "css-value-square-tabs-medium-gap": "12px"
            }
        },
        988400: e => {
            e.exports = {
                "css-value-square-tabs-xsmall-gap": "4px",
                "css-value-square-tabs-small-gap": "8px",
                "css-value-square-tabs-medium-gap": "12px",
                "scroll-wrap": "scroll-wrap-EprJANAf",
                "enable-scroll": "enable-scroll-EprJANAf",
                "square-tabs": "square-tabs-EprJANAf",
                "size-xsmall": "size-xsmall-EprJANAf",
                "square-tab-button": "square-tab-button-EprJANAf",
                "size-small": "size-small-EprJANAf",
                "size-medium": "size-medium-EprJANAf"
            }
        },
        919457: e => {
            e.exports = {
                tab: "tab-diDiUvd9",
                activeTab: "activeTab-diDiUvd9",
                "disable-active-state-styles": "disable-active-state-styles-diDiUvd9",
                "tab-xsmall": "tab-xsmall-diDiUvd9",
                "tab-small": "tab-small-diDiUvd9",
                "tab-medium": "tab-medium-diDiUvd9",
                "tab-large": "tab-large-diDiUvd9",
                "tab-xlarge": "tab-xlarge-diDiUvd9",
                tabSwitcher: "tabSwitcher-diDiUvd9",
                tabSwitcherContainer: "tabSwitcherContainer-diDiUvd9",
                "tabSwitcherContainer-xlarge": "tabSwitcherContainer-xlarge-diDiUvd9",
                "tabSwitcher-xlarge": "tabSwitcher-xlarge-diDiUvd9",
                "tabSwitcherContainer-large": "tabSwitcherContainer-large-diDiUvd9",
                "tabSwitcher-large": "tabSwitcher-large-diDiUvd9",
                "tabSwitcherContainer-medium": "tabSwitcherContainer-medium-diDiUvd9",
                "tabSwitcher-medium": "tabSwitcher-medium-diDiUvd9",
                "tabSwitcherContainer-small": "tabSwitcherContainer-small-diDiUvd9",
                "tabSwitcher-small": "tabSwitcher-small-diDiUvd9",
                "tabSwitcherContainer-xsmall": "tabSwitcherContainer-xsmall-diDiUvd9",
                "tabSwitcher-xsmall": "tabSwitcher-xsmall-diDiUvd9",
                "scroll-button": "scroll-button-diDiUvd9",
                "arrow-icon": "arrow-icon-diDiUvd9",
                left: "left-diDiUvd9",
                right: "right-diDiUvd9",
                visible: "visible-diDiUvd9",
                "scroll-button-xlarge": "scroll-button-xlarge-diDiUvd9",
                "scroll-button-large": "scroll-button-large-diDiUvd9",
                "scroll-button-medium": "scroll-button-medium-diDiUvd9",
                "scroll-button-small": "scroll-button-small-diDiUvd9",
                "scroll-button-xsmall": "scroll-button-xsmall-diDiUvd9",
                "tab-button": "tab-button-diDiUvd9"
            }
        },
        4908: (e, t, n) => {
            "use strict";
            n.d(t, {
                CloseButton: () => d
            });
            var r = n(50959),
                i = n(897782),
                a = n(117105),
                s = n(315130),
                o = n(238822),
                l = n(663346),
                c = n(534983);

            function u(e = "large") {
                switch (e) {
                    case "large":
                        return a;
                    case "medium":
                    default:
                        return s;
                    case "small":
                        return o;
                    case "xsmall":
                        return l;
                    case "xxsmall":
                        return c
                }
            }
            const d = r.forwardRef(((e, t) => r.createElement(i.NavButton, { ...e,
                ref: t,
                icon: u(e.size)
            })))
        },
        176406: (e, t, n) => {
            "use strict";
            n.d(t, {
                TextAnchorButton: () => l,
                TextButton: () => i.TextButton
            });
            var r = n(622032),
                i = n(106257),
                a = n(50959),
                s = n(14388),
                o = n(551080);

            function l(e) {
                const {
                    reference: t,
                    className: n,
                    isSelected: i,
                    isDimmed: l,
                    children: c,
                    startIcon: u,
                    showCaret: d,
                    color: h,
                    endIcon: p,
                    size: m,
                    typography: g,
                    iconOnly: y,
                    statesWithoutBg: v,
                    renderComponent: f = s.CustomComponentDefaultLink,
                    ...b
                } = e;
                return a.createElement(f, { ...b,
                    className: (0, r.getTextButtonClasses)({
                        className: n,
                        isSelected: i,
                        isDimmed: l,
                        startIcon: u,
                        showCaret: d,
                        endIcon: p,
                        color: h,
                        size: m,
                        typography: g,
                        iconOnly: y,
                        isLink: !0
                    }),
                    reference: (0, o.isomorphicRef)(t)
                }, a.createElement(r.TextButtonContent, {
                    showCaret: d,
                    startIcon: u,
                    endIcon: p,
                    statesWithoutBg: v
                }, c))
            }
        },
        622032: (e, t, n) => {
            "use strict";
            n.d(t, {
                getTextButtonClasses: () => d,
                TextButtonContent: () => h
            });
            var r = n(50959),
                i = n(497754),
                a = n(83436),
                s = n(728804),
                o = n(602948),
                l = n(355012),
                c = n.n(l);
            const u = {
                    small: "regular14px",
                    medium: "semibold16px",
                    large: "semibold18px"
                },
                d = e => {
                    const t = (0, r.useContext)(s.CustomBehaviourContext),
                        {
                            className: n,
                            isSelected: a,
                            isDimmed: o,
                            isHovered: l,
                            size: d = "medium",
                            color: h,
                            startIcon: p,
                            endIcon: m,
                            showCaret: g,
                            enableActiveStateStyles: y = t.enableActiveStateStyles,
                            typography: v,
                            iconOnly: f,
                            isLink: b = !1
                        } = e;
                    return i(n, c()["text-button"], b && c().link, a && c().selected, o && c().dimmed, l && c().hovered, c()[`text-button-${h}-${d}`], p && c()["with-start-icon"], f && c()["icon-only"], (g || m) && c()["with-end-icon"], !y && c()["disable-active-state-styles"], v ? c()[`typography-${v}`] : c()[`typography-${u[d]}`])
                };

            function h(e) {
                return r.createElement(r.Fragment, null, r.createElement("span", {
                    className: i(c().background, e.statesWithoutBg && c()["states-without-bg"])
                }), e.startIcon && r.createElement(a.Icon, {
                    className: c()["start-icon"],
                    icon: e.startIcon
                }), r.createElement("span", {
                    className: c().content
                }, e.children), (e.endIcon || e.showCaret) && (e => r.createElement(a.Icon, {
                    className: i(c()["end-icon"], e.showCaret && c().caret),
                    icon: e.showCaret ? o : e.endIcon
                }))(e))
            }
        },
        106257: (e, t, n) => {
            "use strict";
            n.d(t, {
                TextButton: () => a
            });
            var r = n(50959),
                i = n(622032);

            function a(e) {
                const {
                    reference: t,
                    className: n,
                    isSelected: a,
                    isHovered: s,
                    isDimmed: o,
                    children: l,
                    startIcon: c,
                    showCaret: u,
                    color: d,
                    endIcon: h,
                    size: p,
                    typography: m,
                    iconOnly: g,
                    statesWithoutBg: y,
                    ...v
                } = e;
                return r.createElement("button", { ...v,
                    className: (0, i.getTextButtonClasses)({
                        className: n,
                        isSelected: a,
                        isHovered: s,
                        startIcon: c,
                        showCaret: u,
                        endIcon: h,
                        color: d,
                        size: p,
                        typography: m,
                        iconOnly: g,
                        isDimmed: o
                    }),
                    ref: t
                }, r.createElement(i.TextButtonContent, {
                    showCaret: u,
                    startIcon: c,
                    endIcon: h,
                    statesWithoutBg: y
                }, l))
            }
        },
        269269: (e, t, n) => {
            "use strict";
            var r;
            n.d(t, {
                    CollapseDirection: () => r,
                    useCollapsible: () => s
                }),
                function(e) {
                    e.StartFirst = "start-first", e.EndFirst = "end-first"
                }(r || (r = {}));
            var i = n(50959),
                a = n(363633);

            function s(e, t, n, s = r.EndFirst) {
                const o = (0, i.useCallback)(((n, i) => {
                    const a = e.map((e => {
                        var r;
                        return null !== (r = n.widthsMap.get(t(e))) && void 0 !== r ? r : 0
                    }));
                    return function({
                        items: e,
                        containerWidth: t,
                        elementsWidths: n,
                        menuItemWidth: i,
                        keepVisible: a,
                        direction: s
                    }) {
                        const o = [...e],
                            l = [],
                            c = [];
                        let u = 0;
                        for (const e of n) u += e;
                        if (u <= t) return {
                            visible: o,
                            hidden: c
                        };
                        const d = [...n];
                        if (u = a.map((e => d[e])).reduce(((e, t) => e + t), 0) + i, s === r.EndFirst)
                            for (let e = 0; e < o.length; e++) a.includes(e) ? l.push(o[e]) : (u += d[e], u <= t ? l.push(o[e]) : c.push(o[e]));
                        else
                            for (let e = o.length - 1; e >= 0; e--) a.includes(e) ? l.unshift(o[e]) : (u += d[e], u <= t ? l.unshift(o[e]) : c.unshift(o[e]));
                        return {
                            visible: l,
                            hidden: c
                        }
                    }({
                        items: e,
                        containerWidth: n.containerWidth,
                        elementsWidths: a,
                        menuItemWidth: n.moreButtonWidth,
                        keepVisible: i,
                        direction: s
                    })
                }), [e]);
                return (0, a.useCollapsibleCommon)({
                    itemsList: e,
                    getItemId: t,
                    calcVisibleAndHiddenItems: o,
                    shouldKeepItemVisible: n
                })
            }
        },
        363633: (e, t, n) => {
            "use strict";
            n.d(t, {
                useCollapsibleCommon: () => c
            });
            var r = n(50959),
                i = n(444530),
                a = n(746326),
                s = n(238718),
                o = n(774218),
                l = n(551080);

            function c(e) {
                const {
                    itemsList: t,
                    getItemId: n,
                    calcVisibleAndHiddenItems: c,
                    shouldKeepItemVisible: d,
                    onMeasureCallback: h,
                    forceUpdate: p = !1
                } = e, [m, g] = (0, s.useRefsMap)(), y = (0, r.useRef)(null), v = (0, r.useRef)({
                    widthsMap: new Map,
                    containerWidth: 0,
                    moreButtonWidth: 0
                }), [f, b] = (0, r.useState)({
                    visible: t,
                    hidden: []
                }), _ = (0, r.useMemo)((() => t.reduce(((e, t, n) => (d(t) && e.push(n), e)), [])), [t, d]), C = (0, r.useCallback)((() => {
                    const e = c(v.current, _);
                    (function(e, t) {
                        return !u(e.visible, t.visible) || !u(e.hidden, t.hidden)
                    })(f, e) && b(e)
                }), [t, n, v, b, f, _]), S = (0, r.useCallback)((() => {
                    v.current.moreButtonWidth = y.current ? (0, a.outerWidth)(y.current, !0) : 0;
                    const e = new Map(v.current.widthsMap);
                    for (const r of t) {
                        const t = n(r),
                            i = m.current.get(t);
                        if (i) {
                            const n = (0, a.outerWidth)(i, !0);
                            e.set(t, n)
                        }
                    }
                    v.current.widthsMap = e, h && h()
                }), [v, t]), w = (0, r.useRef)(null), k = (0, r.useCallback)((([e]) => {
                    e.contentRect.width !== v.current.containerWidth && (w.current && cancelAnimationFrame(w.current), v.current.containerWidth = e.contentRect.width, w.current = requestAnimationFrame((() => {
                        C()
                    })))
                }), [v, C]), E = (0, r.useRef)(null), T = (0, r.useCallback)((([e]) => {
                    E.current && cancelAnimationFrame(E.current), S(), E.current = requestAnimationFrame((() => {
                        C()
                    }))
                }), [S, C]), D = (0, i.useResizeObserver)(T), R = (0, i.useResizeObserver)(k), I = (0, r.useRef)(null), x = (0, l.mergeRefs)([R, I]), N = (0, r.useRef)(t), V = (0, r.useRef)(!0), P = (0, r.useRef)([]);
                return (0, o.useIsomorphicLayoutEffect)((() => {
                    !p && !V.current && u(N.current, t) && u(_, P.current) || (C(), V.current = !1, N.current = t, P.current = _)
                }), [t, C, _, p]), {
                    containerRefCallback: x,
                    moreButtonRef: y,
                    innerContainerRefCallback: D,
                    itemsRefs: m,
                    setItemRef: g,
                    hiddenItems: f.hidden,
                    visibleItems: f.visible
                }
            }

            function u(e, t) {
                return e.length === t.length && e.reduce(((e, n, r) => e && n === t[r]), !0)
            }
        },
        846503: (e, t, n) => {
            "use strict";
            n.d(t, {
                useMobileTouchState: () => a
            });
            var r = n(50959),
                i = n(167175);

            function a() {
                const [e, t] = (0, r.useState)(!1);
                return (0, r.useEffect)((() => {
                    t(i.mobiletouch)
                }), []), e
            }
        },
        749213: (e, t, n) => {
            "use strict";
            n.d(t, {
                useTabs: () => y
            });
            var r = n(50959),
                i = n(481058);

            function a(e, t, n, r, i) {
                return {
                    id: e,
                    role: "tablist",
                    "aria-orientation": t,
                    "aria-label": i,
                    "aria-labelledby": r,
                    "aria-disabled": n
                }
            }

            function s(e, t, n, r, i) {
                return {
                    id: e,
                    role: "tab",
                    tabIndex: t ? 0 : -1,
                    disabled: i,
                    "aria-selected": n,
                    "aria-controls": r,
                    "aria-disabled": i
                }
            }
            var o = n(763341),
                l = n(405964),
                c = n(831928),
                u = n(650151),
                d = n(283657),
                h = n(507017);

            function p() {
                return !1
            }

            function m(e) {
                const {
                    activationType: t = "manual"
                } = e, n = (0, r.useMemo)((() => t), []);
                return (0, u.assert)(t === n, "Activation type must be invariant."), "automatic" === t ? function(e) {
                    const {
                        isRtl: t,
                        items: n,
                        preventDefaultIfHandled: i = !0,
                        isHighlighted: a,
                        onHighlight: s,
                        onActivate: o,
                        isCollapsed: l = p
                    } = e, c = (0, r.useCallback)((e => {
                        s(e), l(e) || o(e)
                    }), [s, o, l]);
                    return (0, d.useKeyboardEventHandler)([(0, h.useItemsKeyboardNavigation)(t, n, a, c, !0)], i)
                }(e) : function(e) {
                    const {
                        isRtl: t,
                        items: n,
                        preventDefaultIfHandled: i = !0,
                        isHighlighted: a,
                        onHighlight: s,
                        onActivate: o
                    } = e, l = n.find(a), c = (0, r.useCallback)((() => {
                        void 0 !== l && o(l)
                    }), [l, o]), u = (0, r.useCallback)((e => s(e)), [s]), p = (0, h.useItemsKeyboardNavigation)(t, n, a, u, !0), m = (0, d.useKeyboardActionHandler)([13, 32], c);
                    return (0,
                        d.useKeyboardEventHandler)([p, m], i)
                }(e)
            }
            var g = n(846503);

            function y(e) {
                const {
                    id: t,
                    items: n,
                    orientation: u = "horizontal",
                    activationType: d = "manual",
                    disabled: h,
                    tablistLabelId: p,
                    tablistLabel: y,
                    focusOnHighlight: v = !0,
                    preventDefaultIfKeyboardActionHandled: f = !0,
                    scrollIntoViewOptions: b,
                    isActive: _,
                    onActivate: C,
                    isCollapsed: S,
                    isRtl: w
                } = e, k = (0, g.useMobileTouchState)(), E = (0, r.useRef)(new Map), [T, D] = (0, r.useState)(), [R, I] = (0, l.useFocus)(), x = n.find(_), N = (0, r.useCallback)((e => !h && !e.disabled && e === T), [h, T]), V = (0, r.useCallback)((e => {
                    const t = E.current.get(e);
                    v && void 0 !== t && t !== document.activeElement && t.focus()
                }), [v, E]), P = (0, r.useRef)(), H = (0, r.useCallback)(((e, t) => {
                    h || e.disabled || (D(e), "number" == typeof t ? (clearTimeout(P.current), P.current = setTimeout((() => V(e)), t)) : V(e))
                }), [h, N, D, V]), B = (0, r.useCallback)((e => {
                    h || e.disabled || (C(e), N(e) || H(e))
                }), [h, _, C, N, H]), O = m({
                    isRtl: w,
                    items: (0, r.useMemo)((() => n.filter((e => !h && !e.disabled))), [n, h]),
                    activationType: d,
                    preventDefaultIfHandled: f,
                    onActivate: B,
                    isHighlighted: N,
                    onHighlight: H,
                    isCollapsed: S
                }), M = (0, r.useCallback)((e => {
                    let t = null;
                    for (const [n, r] of E.current.entries())
                        if (e.target === r) {
                            t = n;
                            break
                        }
                    t && !N(t) && ("automatic" === d && S && !S(t) ? B(t) : H(t))
                }), [d, E, N, H, B, S]);
                (0, r.useEffect)((() => {
                    R ? void 0 !== T || void 0 === x || k || D(x) : D(void 0)
                }), [R, T, x, D]), (0, r.useEffect)((() => () => clearTimeout(P.current)), []);
                const [W, A] = (0, c.useKeepActiveItemIntoView)({ ...b,
                    activeItem: null != T ? T : x,
                    getKey: (0, r.useCallback)((e => e.id), [])
                }), z = (0, r.useCallback)(((e, t) => {
                    A(e, t), null !== t ? E.current.set(e, t) : E.current.delete(e)
                }), [A, E]);
                var F;
                return {
                    tabsBindings: n.map((e => {
                        var t, n;
                        const r = N(e),
                            i = _(e),
                            a = null !== (n = null !== (t = e.disabled) && void 0 !== t ? t : h) && void 0 !== n && n,
                            o = !a && (R ? r : i);
                        return { ...s(e.id, o, i, e.tabpanelId, a),
                            highlighted: r,
                            active: i,
                            handleItemRef: z
                        }
                    })),
                    tablistBinding: { ...a((F = t, (0, i.createDomId)(F, "tablist")), u, h, p, y),
                        onBlur: I.onBlur,
                        onFocus: (0, o.createSafeMulticastEventHandler)(I.onFocus, M),
                        onKeyDown: O
                    },
                    scrollWrapBinding: {
                        ref: W
                    },
                    onActivate: B,
                    onHighlight: H,
                    isHighlighted: N
                }
            }
        },
        420548: (e, t, n) => {
            "use strict";
            n.d(t, {
                Informer: () => m
            });
            var r = n(50959),
                i = n(497754),
                a = n(83436),
                s = n(4908),
                o = n(8626),
                l = n(530162),
                c = n(527941),
                u = n(499084),
                d = n(538802),
                h = n.n(d);
            const p = {
                danger: l,
                warning: l,
                success: u,
                default: c
            };

            function m(e) {
                const {
                    informerIntent: t,
                    content: n,
                    className: l,
                    header: c,
                    isIconShown: u = !0,
                    isCloseButtonShown: d,
                    icon: m,
                    onCloseClick: g,
                    closeButtonLabel: y = "Close",
                    headerPlacement: v = "inline",
                    children: f
                } = e;
                return r.createElement("div", {
                    className: i(h().container, h()[`container-${t}`], l),
                    ...(0, o.filterDataProps)(e),
                    ...(0, o.filterAriaProps)(e)
                }, r.createElement("div", {
                    className: h().informerBody
                }, n && r.createElement("div", {
                    className: h().mainProblem
                }, u && r.createElement(a.Icon, {
                    className: h().icon,
                    icon: null != m ? m : p[t]
                }), r.createElement("div", {
                    className: h()["text-wrap"]
                }, c && r.createElement("span", {
                    className: i(h().header, h()[`header-${v}`])
                }, c), " ", n)), f), d && r.createElement(s.CloseButton, {
                    "aria-label": y,
                    onClick: g,
                    className: h()["close-button"],
                    size: "xsmall",
                    preservePaddings: !0
                }))
            }
        },
        80934: (e, t, n) => {
            "use strict";
            n.d(t, {
                ChartWarningHint: () => l
            });
            var r = n(50959),
                i = n(777754),
                a = n(664224),
                s = n(420548),
                o = n(242819);

            function l(e) {
                const {
                    text: t,
                    warningHeader: l,
                    warningType: c = "default",
                    solutionId: u,
                    onClose: d,
                    warningIcon: h
                } = e;
                return r.createElement("div", {
                    className: o.hint
                }, r.createElement(s.Informer, {
                    isCloseButtonShown: !0,
                    closeButtonLabel: i.t(null, {
                        context: "input"
                    }, n(309633)),
                    className: o.container,
                    header: l,
                    onCloseClick: d,
                    informerIntent: "default" === c ? "warning" : "danger",
                    icon: h,
                    content: r.createElement(r.Fragment, null, r.createElement("span", null, t, " "), u && r.createElement("a", {
                        className: o.link,
                        href: `/support/solutions/${u}/`,
                        onClick: e => {
                            e.preventDefault(), (0, a.showSupportDialog)({
                                solutionId: u
                            })
                        }
                    }, i.t(null, void 0, n(718429))))
                }))
            }
        },
        583835: (e, t, n) => {
            "use strict";
            n.d(t, {
                useLogos: () => a
            });
            var r = n(14325),
                i = n(795394);

            function a(e, t) {
                return (0, r.useQuotesCachedData)(e, ["logoid", "currency-logoid", "base-currency-logoid"], {}, i.snapshoter, t)
            }
        },
        837657: (e, t, n) => {
            "use strict";
            n.d(t, {
                isSeparatorItem: () => i
            });
            var r = n(173777);

            function i(e) {
                return (0, r.isSeparatorItem)(e)
            }
        },
        458692: (e, t, n) => {
            "use strict";
            n.d(t, {
                useDisclosure: () => r.useDisclosure
            });
            var r = n(718083)
        },
        898960: (e, t, n) => {
            "use strict";
            n.d(t, {
                EmptyStateBlock: () => o
            });
            var r = n(50959),
                i = n(497754),
                a = n(959483);

            function s(e) {
                const {
                    title: t,
                    tagName: n
                } = e, i = n || "strong";
                return r.createElement(i, {
                    className: a.title
                }, t)
            }

            function o(e) {
                return r.createElement("div", {
                    className: i(a.container, e.className)
                }, r.createElement("div", {
                    className: i(a.icon, e.iconClass)
                }), e.title && r.createElement(s, {
                    title: e.title,
                    tagName: e.titleTagName
                }), r.createElement("div", {
                    className: i(a.text, "large" === e.textSize && a.text_large)
                }, e.text), e.action && r.createElement("div", {
                    className: a.action
                }, e.action))
            }
        },
        517744: (e, t, n) => {
            "use strict";
            n.d(t, {
                usePrevious: () => i
            });
            var r = n(50959);

            function i(e) {
                const t = (0, r.useRef)(null);
                return (0, r.useEffect)((() => {
                    t.current = e
                }), [e]), t.current
            }
        },
        14325: (e, t, n) => {
            "use strict";
            n.d(t, {
                useQuotesCachedData: () => o
            });
            var r = n(50959),
                i = n(899156),
                a = n(316230),
                s = n(837657);

            function o(e, t, n, o, c) {
                const [u, d] = (0, r.useState)((() => {
                    if (void 0 === e || (0, s.isSeparatorItem)(e)) return l(n, t);
                    const r = c ? null : o().getSnapshotSync(e, new Set(t));
                    return null === r || "error" === r.status ? l(n, t) : (0, i.default)(r.values, t)
                }));
                return (0, r.useEffect)((() => {
                    if (void 0 === e || (0, s.isSeparatorItem)(e)) return;
                    let r = !1;
                    return o().getSnapshot(e, new Set(t)).then((e => {
                        if (r) return;
                        const s = "error" === e.status ? l(n, t) : (0, i.default)(e.values, t);
                        d((e => (0, a.default)(s, e) ? e : s))
                    })), () => {
                        r = !0
                    }
                }), [e, o]), u
            }

            function l(e, t) {
                return e
            }
        },
        156614: (e, t, n) => {
            "use strict";
            n.d(t, {
                horizontalScrollFactory: () => m,
                HorizontalScroll: () => _
            });
            var r = n(50959),
                i = n(497754),
                a = n(650151),
                s = n(83436),
                o = n(368791),
                l = n(455567),
                c = n(768038),
                u = n(389401),
                d = n(661380),
                h = n(39416);
            const p = {
                isVisibleScrollbar: !0,
                shouldMeasure: !0,
                hideButtonsFrom: 1
            };

            function m(e = v, t = f, n = g, s = y) {
                var d;
                return (d = class extends r.PureComponent {
                    constructor(e) {
                        super(e), this._scroll = r.createRef(), this._handleScrollLeft = () => {
                            if (this.props.onScrollButtonClick) return void this.props.onScrollButtonClick("left");
                            const e = this.props.scrollStepSize || this.state.widthWrap - 50;
                            this.animateTo(Math.max(0, this.currentPosition() - e))
                        }, this._handleScrollRight = () => {
                            if (this.props.onScrollButtonClick) return void this.props.onScrollButtonClick("right");
                            const e = this.props.scrollStepSize || this.state.widthWrap - 50;
                            this.animateTo(Math.min((this.state.widthContent || 0) - (this.state.widthWrap || 0), this.currentPosition() + e))
                        }, this._handleResizeWrap = ([e]) => {
                            const t = e.target.getBoundingClientRect();
                            this.props.onMeasureWrap && this.props.onMeasureWrap(t), this.setState({
                                widthWrap: t.width
                            }), this._checkButtonsVisibility()
                        }, this._handleResizeContent = ([e]) => {
                            const t = e.target.getBoundingClientRect();
                            this.props.onMeasureContent && this.props.onMeasureContent(t);
                            const {
                                shouldDecreaseWidthContent: n,
                                buttonsWidthIfDecreasedWidthContent: r
                            } = this.props;
                            n && r ? this.setState({
                                widthContent: t.width + 2 * r
                            }) : this.setState({
                                widthContent: t.width
                            })
                        }, this._handleScroll = () => {
                            const {
                                onScroll: e
                            } = this.props;
                            e && e(this.currentPosition(), this.isAtLeft(), this.isAtRight()), this._checkButtonsVisibility()
                        }, this._checkButtonsVisibility = () => {
                            const {
                                isVisibleLeftButton: e,
                                isVisibleRightButton: t
                            } = this.state, n = this.isAtLeft(), r = this.isAtRight();
                            n || e ? n && e && this.setState({
                                isVisibleLeftButton: !1
                            }) : this.setState({
                                isVisibleLeftButton: !0
                            }), r || t ? r && t && this.setState({
                                isVisibleRightButton: !1
                            }) : this.setState({
                                isVisibleRightButton: !0
                            })
                        }, this.state = {
                            widthContent: 0,
                            widthWrap: 0,
                            isVisibleRightButton: !1,
                            isVisibleLeftButton: !1
                        }
                    }
                    componentDidMount() {
                        this._checkButtonsVisibility()
                    }
                    componentDidUpdate(e, t) {
                        t.widthWrap === this.state.widthWrap && t.widthContent === this.state.widthContent || this._handleScroll()
                    }
                    currentPosition() {
                        return this._scroll.current ? (0, c.isRtl)() ? (0, c.getLTRScrollLeft)(this._scroll.current) : this._scroll.current.scrollLeft : 0
                    }
                    isAtLeft() {
                        return !this._isOverflowed() || this.currentPosition() <= (0, a.ensureDefined)(this.props.hideButtonsFrom)
                    }
                    isAtRight() {
                        return !this._isOverflowed() || this.currentPosition() + this.state.widthWrap >= this.state.widthContent - (0, a.ensureDefined)(this.props.hideButtonsFrom)
                    }
                    animateTo(e, t = l.dur) {
                        const n = this._scroll.current;
                        n && ((0, c.isRtl)() && (e = (0, c.getLTRScrollLeftOffset)(n, e)), t <= 0 ? n.scrollLeft = Math.round(e) : (0, o.doAnimate)({
                            onStep(e, t) {
                                n.scrollLeft = Math.round(t)
                            },
                            from: n.scrollLeft,
                            to: Math.round(e),
                            easing: l.easingFunc.easeInOutCubic,
                            duration: t
                        }))
                    }
                    render() {
                        const {
                            children: a,
                            isVisibleScrollbar: o,
                            isVisibleFade: l,
                            isVisibleButtons: c,
                            shouldMeasure: d,
                            shouldDecreaseWidthContent: p,
                            buttonsWidthIfDecreasedWidthContent: m,
                            onMouseOver: g,
                            onMouseOut: y,
                            scrollWrapClassName: v,
                            fadeClassName: f
                        } = this.props, {
                            isVisibleRightButton: b,
                            isVisibleLeftButton: _
                        } = this.state, C = p && m;
                        return r.createElement(u.Measure, {
                            onResize: d ? this._handleResizeWrap : null
                        }, (p => r.createElement("div", {
                            className: h.wrapOverflow,
                            onMouseOver: g,
                            onMouseOut: y,
                            ref: p
                        }, r.createElement("div", {
                            className: i(h.wrap, C ? h.wrapWithArrowsOuting : "")
                        }, r.createElement("div", {
                            className: i(h.scrollWrap, v, {
                                [h.noScrollBar]: !o
                            }),
                            onScroll: this._handleScroll,
                            ref: this._scroll
                        }, r.createElement(u.Measure, {
                            onResize: d ? this._handleResizeContent : null
                        }, a)), l && r.createElement(n, {
                            isVisible: _,
                            className: f
                        }), l && r.createElement(s, {
                            isVisible: b,
                            className: f
                        }), c && r.createElement(e, {
                            onClick: this._handleScrollLeft,
                            isVisible: _
                        }), c && r.createElement(t, {
                            onClick: this._handleScrollRight,
                            isVisible: b
                        })))))
                    }
                    _isOverflowed() {
                        const {
                            widthContent: e,
                            widthWrap: t
                        } = this.state;
                        return e > t
                    }
                }).defaultProps = p, d
            }

            function g(e) {
                return r.createElement("div", {
                    className: i(h.fadeLeft, e.className, {
                        [h.isVisible]: e.isVisible
                    })
                })
            }

            function y(e) {
                return r.createElement("div", {
                    className: i(h.fadeRight, e.className, {
                        [h.isVisible]: e.isVisible
                    })
                })
            }

            function v(e) {
                return r.createElement(b, { ...e,
                    className: h.scrollLeft
                })
            }

            function f(e) {
                return r.createElement(b, { ...e,
                    className: h.scrollRight
                })
            }

            function b(e) {
                return r.createElement("div", {
                    className: i(e.className, {
                        [h.isVisible]: e.isVisible
                    }),
                    onClick: e.onClick
                }, r.createElement("div", {
                    className: h.iconWrap
                }, r.createElement(s.Icon, {
                    icon: d,
                    className: h.icon
                })))
            }
            const _ = m(v, f, g, y)
        },
        55220: (e, t, n) => {
            "use strict";
            n.d(t, {
                SquareTabs: () => N
            });
            var r = n(50959),
                i = n(497754),
                a = n(777754),
                s = n(662929),
                o = n(269269),
                l = n(763341),
                c = n(458692),
                u = n(749213),
                d = n(574823),
                h = n(551080),
                p = n(728804);
            const m = (0, r.createContext)("small");
            var g = n(953041);
            const y = (0, r.forwardRef)(((e, t) => {
                const n = r.useContext(m),
                    a = (0, r.useContext)(p.CustomBehaviourContext),
                    {
                        id: s,
                        active: o,
                        fake: l,
                        theme: c = g,
                        enableActiveStateStyles: u = a.enableActiveStateStyles,
                        hideFocusOutline: d = !1,
                        ...h
                    } = e;
                return r.createElement("button", { ...h,
                    id: s,
                    ref: t,
                    className: i(c["square-tab-button"], o && c.selected, c[`size-${n}`], l && c.fake, !u && c["disable-active-state-styles"], d && c["disable-focus-outline"])
                })
            }));
            y.displayName = "SquareTabButton";
            const v = (0, r.forwardRef)(((e, t) => {
                const {
                    item: n,
                    highlighted: i,
                    handleItemRef: a,
                    onClick: s,
                    ...o
                } = e, l = (0, r.useCallback)((() => {
                    s && s(n)
                }), [s, n]), c = (0, r.useCallback)((e => {
                    a && a(n, e), (0, h.isomorphicRef)(t)(e)
                }), [n, a, t]);
                return r.createElement(y, { ...o,
                    id: n.id,
                    onClick: l,
                    ref: c
                }, n.label)
            }));
            v.displayName = "SquareTab";
            var f = n(217802),
                b = n(634993),
                _ = n(83436),
                C = n(602948),
                S = n(724917);

            function w(e) {
                const {
                    isDropped: t = !1
                } = e;
                return r.createElement(_.Icon, {
                    icon: C,
                    className: i(S["arrow-icon"], t && S.dropped)
                })
            }

            function k(e) {
                const {
                    disabled: t,
                    isOpened: n,
                    hideFocusOutline: i,
                    fake: a,
                    items: o,
                    buttonContent: l,
                    buttonRef: c,
                    buttonTheme: u,
                    isHighlighted: d,
                    onButtonClick: h,
                    onItemClick: p,
                    onClose: m
                } = e, g = (0, r.useRef)(null), v = (0, s.useMergedRefs)([c, g]);
                return r.createElement(f.PopupMenuDisclosureView, {
                    buttonRef: g,
                    listboxTabIndex: -1,
                    isOpened: n,
                    onClose: m,
                    listboxAria: {
                        "aria-hidden": !0
                    },
                    button: r.createElement(y, {
                        "aria-hidden": !0,
                        disabled: t,
                        active: n,
                        onClick: h,
                        ref: v,
                        tabIndex: -1,
                        theme: u,
                        hideFocusOutline: i,
                        fake: a
                    }, l, r.createElement(w, {
                        isDropped: n
                    })),
                    popupChildren: o.map((e => r.createElement(b.PopupMenuItem, {
                        key: e.id,
                        onClick: p,
                        onClickArg: e,
                        isActive: d(e),
                        label: e.label,
                        isDisabled: e.disabled,
                        dontClosePopup: !0
                    })))
                })
            }
            var E = n(557505),
                T = n(846503),
                D = n(768038),
                R = n(747115),
                I = n(586240),
                x = n(435697);

            function N(e) {
                const {
                    id: t,
                    items: h,
                    activationType: p,
                    orientation: g,
                    disabled: y,
                    moreButtonContent: f = a.t(null, void 0, n(141610)),
                    size: b = "small",
                    onActivate: _,
                    isActive: C,
                    theme: S = E.defaultTheme,
                    className: w,
                    style: N,
                    overflowBehaviour: V,
                    enableActiveStateStyles: P,
                    tablistLabelId: H,
                    tablistLabel: B,
                    "data-name": O = "square-tabs-buttons"
                } = e, M = (0, T.useMobileTouchState)(), W = function(e, t) {
                    const n = (0, x.useSafeMatchMedia)(I["media-mf-phone-landscape"], !0);
                    return null != e ? e : t || !n ? "scroll" : "collapse"
                }(V, M), A = (0, r.useRef)(!1), z = (0, r.useCallback)((e => e.id), []), F = null != P ? P : !M, {
                    visibleItems: L,
                    hiddenItems: q,
                    containerRefCallback: K,
                    innerContainerRefCallback: U,
                    moreButtonRef: J,
                    setItemRef: $
                } = (0, o.useCollapsible)(h, z, C), j = "collapse" === W ? L : h, G = "collapse" === W ? q : [], Y = (0, r.useCallback)((e => G.includes(e)), [G]), {
                    tabsBindings: Z,
                    tablistBinding: Q,
                    scrollWrapBinding: X,
                    onActivate: ee,
                    onHighlight: te,
                    isHighlighted: ne
                } = (0, u.useTabs)({
                    id: t,
                    items: [...j, ...G],
                    activationType: p,
                    orientation: g,
                    disabled: y,
                    tablistLabelId: H,
                    tablistLabel: B,
                    scrollIntoViewOptions: {
                        additionalScroll: parseInt(R[`css-value-square-tabs-${b}-gap`])
                    },
                    onActivate: _,
                    isActive: C,
                    isCollapsed: Y,
                    isRtl: D.isRtl
                }), re = G.find(ne), ie = (0, r.useCallback)((() => {
                    const e = h.find(C);
                    e && te(e)
                }), [te, C, h]), ae = (0, r.useCallback)((e => Z.find((t => t.id === e.id))), [h, Z]), {
                    isOpened: se,
                    open: oe,
                    close: le,
                    onButtonClick: ce
                } = (0, c.useDisclosure)({
                    id: t,
                    disabled: y
                }), ue = (0, r.useCallback)((() => {
                    le(), ie(), A.current = !0
                }), [le, ie]), de = (0, r.useCallback)((() => {
                    re && (ee(re), te(re, 250))
                }), [ee, te, re]);
                X.ref = (0, s.useMergedRefs)([X.ref, K]), Q.ref = (0, s.useMergedRefs)([Q.ref, U]), Q.onKeyDown = (0, l.createSafeMulticastEventHandler)((0, d.useKeyboardEventHandler)([(0, d.useKeyboardClose)(se, ue), (0, d.useKeyboardActionHandler)([13, 32], de, (0, r.useCallback)((() => Boolean(re)), [re]))]), Q.onKeyDown);
                const he = (0, r.useCallback)((e => {
                        A.current = !0, ce(e)
                    }), [A, ce]),
                    pe = (0, r.useCallback)((e => {
                        e && ee(e)
                    }), [ee]);
                return (0, r.useEffect)((() => {
                    A.current ? A.current = !1 : (re && !se && oe(), !re && se && le())
                }), [re, se, oe, le]), r.createElement(m.Provider, {
                    value: b
                }, r.createElement("div", { ...X,
                    className: i(S["scroll-wrap"], "scroll" === W && S["enable-scroll"], w),
                    style: N,
                    "data-name": O
                }, r.createElement("div", { ...Q,
                    className: i(S["square-tabs"], S[`size-${b}`])
                }, j.map((e => {
                    var t;
                    const {
                        "aria-disabled": n,
                        ...i
                    } = null !== (t = ae(e)) && void 0 !== t ? t : {};
                    return r.createElement(v, { ...i,
                        key: e.id,
                        item: e,
                        onClick: () => ee(e),
                        theme: S,
                        enableActiveStateStyles: F,
                        hideFocusOutline: M,
                        ref: $(z(e)),
                        ...e.dataId && {
                            "data-id": e.dataId
                        }
                    })
                })), G.map((e => {
                    var t;
                    const {
                        "aria-disabled": n,
                        ...i
                    } = null !== (t = ae(e)) && void 0 !== t ? t : {};
                    return r.createElement(v, { ...i,
                        key: e.id,
                        item: e,
                        theme: S,
                        enableActiveStateStyles: F,
                        fake: !0
                    })
                })), r.createElement(k, {
                    disabled: y,
                    isOpened: se,
                    items: G,
                    buttonContent: f,
                    buttonRef: J,
                    buttonTheme: S,
                    isHighlighted: ne,
                    onButtonClick: he,
                    onItemClick: pe,
                    onClose: le,
                    hideFocusOutline: M,
                    fake: 0 === G.length
                }))))
            }
        },
        557505: (e, t, n) => {
            "use strict";
            n.d(t, {
                defaultTheme: () => s
            });
            var r = n(995683),
                i = n(988400),
                a = n(953041);
            const s = (0, r.mergeThemes)(a, i)
        },
        55103: (e, t, n) => {
            "use strict";
            n.d(t, {
                getTabSwitcher: () => p
            });
            var r = n(50959),
                i = n(497754),
                a = n(156614),
                s = n(83436),
                o = n(728804);
            const l = r.createContext({
                size: "small"
            });
            var c = n(789351),
                u = n(919457);

            function d(e) {
                const {
                    onClick: t,
                    disabled: n,
                    isActive: a,
                    children: s,
                    className: o,
                    disableScrollForActiveTab: l,
                    size: c,
                    enableActiveStateStyles: d,
                    dataName: h
                } = e, p = r.useRef(null);
                return r.useEffect((() => {
                    p.current && a && !l && p.current.scrollIntoView({
                        block: "end",
                        inline: "center",
                        behavior: "smooth"
                    })
                }), [a]), r.createElement("button", {
                    type: "button",
                    "data-name": h,
                    onClick: t,
                    disabled: n,
                    className: i(u["tab-button"], u.tab, n && u.disabled, a && u.activeTab, u[`tab-${c}`], !d && u["disable-active-state-styles"], o),
                    ref: p
                }, s)
            }
            const h = (0, a.horizontalScrollFactory)((function(e) {
                const {
                    onClick: t,
                    isVisible: n,
                    className: a = ""
                } = e, {
                    size: o
                } = (0, r.useContext)(l);
                return r.createElement("button", {
                    tabIndex: -1,
                    className: i(u["scroll-button"], u[`scroll-button-${o}`], u.left, n && u.visible, a),
                    onClick: t
                }, r.createElement(s.Icon, {
                    icon: c,
                    className: i(u["arrow-icon"])
                }))
            }), (function(e) {
                const {
                    onClick: t,
                    isVisible: n,
                    className: a = ""
                } = e, {
                    size: o
                } = (0, r.useContext)(l);
                return r.createElement("button", {
                    tabIndex: -1,
                    className: i(u["scroll-button"], u[`scroll-button-${o}`], u.right, n && u.visible, a),
                    onClick: t
                }, r.createElement(s.Icon, {
                    icon: c,
                    className: u["arrow-icon"]
                }))
            }));

            function p() {
                return e => {
                    var t;
                    const n = (0, r.useContext)(o.CustomBehaviourContext),
                        {
                            onChange: a,
                            tabs: s,
                            activeTab: c,
                            disabled: p,
                            translationCb: g,
                            classNameSwitcher: y,
                            classNameTab: v,
                            isVisibleScrollButtons: f = !0,
                            disableScrollForActiveTab: b = !1,
                            size: _ = "small",
                            enableActiveStateStyles: C = n.enableActiveStateStyles,
                            dataName: S
                        } = e,
                        w = (0, r.useCallback)((e => t => {
                            t.preventDefault(), e === c || p || a(e)
                        }), [c, p]),
                        k = {
                            size: e.size
                        };
                    return r.createElement(l.Provider, {
                        value: k
                    }, r.createElement(m, {
                        className: i(u.tabSwitcherContainer, u[`tabSwitcherContainer-${_}`], y)
                    }, r.createElement(h, {
                        isVisibleScrollbar: !1,
                        isVisibleButtons: f,
                        shouldMeasure: null === (t = e.shouldMeasureHorizScroll) || void 0 === t || t
                    }, (e => r.createElement("div", {
                        className: i(u.tabSwitcher, u[`tabSwitcher-${_}`]),
                        ref: e
                    }, s.map(((e, t) => {
                        const n = c === e;
                        return r.createElement(d, {
                            dataName: null == S ? void 0 : S(e),
                            onClick: w(e),
                            disabled: p,
                            isActive: n,
                            key: t,
                            className: v,
                            disableScrollForActiveTab: b,
                            size: _,
                            enableActiveStateStyles: C
                        }, g ? g(e) : e)
                    })))))))
                }
            }
            const m = r.memo((({
                children: e,
                className: t = ""
            }) => r.createElement("div", {
                className: t
            }, e)))
        },
        100651: e => {
            e.exports = {
                wrapper: "wrapper-LqHHVYQZ",
                emptyStateIcon: "emptyStateIcon-LqHHVYQZ"
            }
        },
        602986: e => {
            e.exports = {
                strategyGroup: "strategyGroup-N7K2zaiJ",
                fixedContent: "fixedContent-N7K2zaiJ",
                deepHistoryContainer: "deepHistoryContainer-N7K2zaiJ",
                select: "select-N7K2zaiJ",
                strategyInfo: "strategyInfo-N7K2zaiJ",
                switchGroup: "switchGroup-N7K2zaiJ",
                switchTitle: "switchTitle-N7K2zaiJ",
                historyParams: "historyParams-N7K2zaiJ",
                historyParamsWide: "historyParamsWide-N7K2zaiJ",
                generateReportBtn: "generateReportBtn-N7K2zaiJ",
                disableTab: "disableTab-N7K2zaiJ",
                badgeDeepHistory: "badgeDeepHistory-N7K2zaiJ",
                staticWrapper: "staticWrapper-N7K2zaiJ",
                supportButton: "supportButton-N7K2zaiJ",
                staticSupportButton: "staticSupportButton-N7K2zaiJ",
                deepHistorySolution: "deepHistorySolution-N7K2zaiJ",
                tabsContainer: "tabsContainer-N7K2zaiJ",
                tabNoOutline: "tabNoOutline-N7K2zaiJ",
                container: "container-N7K2zaiJ",
                staticContainer: "staticContainer-N7K2zaiJ",
                containerNarrow: "containerNarrow-N7K2zaiJ",
                containerWide: "containerWide-N7K2zaiJ"
            }
        },
        540189: e => {
            e.exports = {
                dropdownButton: "dropdownButton-TeyJTVGN",
                dropdownBtn: "dropdownBtn-TeyJTVGN",
                singleStrategy: "singleStrategy-TeyJTVGN",
                contentWrapper: "contentWrapper-TeyJTVGN",
                title: "title-TeyJTVGN",
                textEllipsis: "textEllipsis-TeyJTVGN"
            }
        },
        991501: e => {
            e.exports = {
                container: "container-HGdxdr5y",
                separator: "separator-HGdxdr5y"
            }
        },
        880973: e => {
            e.exports = {
                wrapper: "wrapper-VvmPUQBL",
                emptyStateIcon: "emptyStateIcon-VvmPUQBL"
            }
        },
        957973: e => {
            e.exports = {
                backtestingWarningContainer: "backtestingWarningContainer-laKjFzPt",
                backtestingHeadWrapper: "backtestingHeadWrapper-laKjFzPt",
                staticHeadWrapper: "staticHeadWrapper-laKjFzPt"
            }
        },
        35611: (e, t, n) => {
            "use strict";
            n.d(t, {
                trackBottomPanelButtonClick: () => l,
                trackStrategyTesterButtonClick: () => c
            });
            var r = n(776734),
                i = n(632446),
                a = n(833813);
            const s = {
                Overview: "overview",
                "List of Trades": "list_of_trades",
                "Performance Summary": "performance_summary",
                Properties: "properties"
            };

            function o(e) {
                (0, r.getTracker)().then((t => {
                    null !== t && t.trackBottomToolbarButtonClick(e)
                }))
            }

            function l(e) {
                const t = [e.button];
                e.visibility && t.push(e.visibility), e.option && t.push(e.option), o(t.join(" "))
            }

            function c(e, t) {
                const n = ["strategy_tester"];
                if ((0, i.enabled)(a.ProductFeatures.DEEP_HISTORY_BACKTEST) && n.push(e), (null == t ? void 0 : t.activeTab) && n.push(s[t.activeTab]), null == t ? void 0 : t.button) {
                    const e = function(e) {
                            switch (e) {
                                case "Overview":
                                case "List of Trades":
                                case "Performance Summary":
                                case "Properties":
                                    return s[e];
                                default:
                                    return e
                            }
                        }(t.button),
                        r = t.isButtonOpen ? `${e}_open` : e;
                    n.push(r)
                }
                o(n.join(" "))
            }
        },
        41588: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                BacktestingWidget: () => Dr
            });
            var r = n(650151),
                i = n(50959),
                a = n(500962),
                s = n(497754),
                o = n.n(s),
                l = n(777754),
                c = n(631078),
                u = n(728804),
                d = n(583912),
                h = n(345848),
                p = n(973580),
                m = n(869403),
                g = n.n(m),
                y = n(868151),
                v = n(263221),
                f = n(947809),
                b = n(517744),
                _ = n(130551),
                C = n(312554);
            const S = ["run_mode", "exclude_from_report"];

            function w(e, t) {
                const n = new C.MetaInfoHelper(e.metaInfo()),
                    r = e.inputs(t),
                    i = {};

                function a(e) {
                    if (e.isHidden) return;
                    const t = e.internalID || e.id;
                    if (-1 !== S.indexOf(t)) return;
                    const n = r[e.id];
                    i[t] = (0, _.isObject)(n) ? n.v : n
                }
                return n.getUserEditableInputs().forEach(a), n.hasUserEditableProperties() && e.metaInfo().inputs.forEach(a), i
            }

            function k(e, t = !1, n) {
                return e.isChildStudy() ? E(e).map((e => ({
                    study: e.getStudyName(),
                    id: e.sourceId(),
                    inputs: t ? w(e, n) : e.inputs(n)
                }))) : []
            }

            function E(e, t = new Set) {
                return e.parentSources().forEach((e => {
                    t.add(e), E(e, t)
                })), Array.from(t.values())
            }
            var T = n(80934),
                D = n(664224),
                R = n(286293),
                I = n(266657);

            function x(e) {
                const {
                    solutionId: t
                } = e, r = i.useCallback((e => {
                    e.preventDefault(), (0, D.showSupportDialog)({
                        solutionId: t
                    })
                }), [t]);
                return i.createElement(i.Fragment, null, " ", i.createElement("a", {
                    className: I.solutionLink,
                    href: `?solution=${t}`,
                    onClick: r
                }, l.t(null, void 0, n(718429))))
            }

            function N(e) {
                let t = "";
                const r = function(e) {
                    switch (e) {
                        case "nonStandard":
                        case "deepHistoryDataError":
                            return R.solutionIds.STRATEGY_UNREALISTIC_RESULTS;
                        case "lookaheadFutureData":
                            return R.solutionIds.STRATEGY_FUTURE_DATA;
                        case "deepHistory":
                            return R.solutionIds.DEEP_BACKTESTING_WIDGET;
                        case "deepHistoryFetchError":
                            return R.solutionIds.DEEP_BACKTESTING_AVAILABLE_DATA
                    }
                }(e);
                switch (e) {
                    case "nonStandard":
                        t = l.t(null, void 0, n(250711));
                        break;
                    case "lookaheadFutureData":
                        t = l.t(null, void 0, n(187097));
                        break;
                    case "deepHistory":
                        t = l.t(null, void 0, n(526489));
                        break;
                    case "deepHistoryDataError":
                        t = l.t(null, void 0, n(722594));
                        break;
                    case "deepHistoryFetchError":
                        t = l.t(null, void 0, n(945723))
                }
                return i.createElement(i.Fragment, null, t, i.createElement(x, {
                    solutionId: r
                }))
            }

            function V(e, t) {
                return {
                    isDeepHistory: 1 === e,
                    isRangeBasedStyle: t
                }
            }

            function P(e) {
                const {
                    removeCb: t
                } = e, [r, a] = (0, i.useState)(!1), [s, o] = (0, i.useState)(!1), [c, u] = (0, i.useState)(!1), [d, h] = (0, i.useState)(!1), p = (0, i.useCallback)((e => {
                    let t;
                    const n = !e.isDeepHistory && !r,
                        i = e.isDeepHistory && !s;
                    if (e.isDeepHistory && !d) t = "deepHistory";
                    else if (e.hasLookaheadFutureData && !c) t = "lookaheadFutureData";
                    else if (e.isRangeBasedStyle && (n || i)) t = "nonStandard";
                    else if (e.hasDeepHistoryError) t = "deepHistoryDataError";
                    else {
                        if (!e.hasDeepHistoryFetchError) return null;
                        t = "deepHistoryFetchError"
                    }
                    return t
                }), [r, c, d, s]), m = p(e);
                if (null === m) return i.createElement(i.Fragment, null);
                const g = "deepHistory" !== m ? l.t(null, void 0, n(697174)) : l.t(null, void 0, n(885456));
                return i.createElement(T.ChartWarningHint, {
                    warningType: e.warningType,
                    warningHeader: g,
                    text: e.errorText && e.errorText.length > 0 ? e.errorText : N(m),
                    onClose: () => {
                        const n = p(e);
                        "nonStandard" === n ? e.isDeepHistory && d ? o(!0) : a(!0) : "lookaheadFutureData" === n ? u(!0) : "deepHistory" === n && h(!0), t && t()
                    }
                })
            }
            var H = n(898960),
                B = n(540975),
                O = n(100651);

            function M(e) {
                const {
                    studyMarket: t,
                    height: r
                } = e, a = (0, c.useWatchedValueReadonly)({
                    watchedValue: r
                });
                return i.createElement("div", {
                    className: O.wrapper
                }, a > 100 && i.createElement(H.EmptyStateBlock, {
                    iconClass: a > 300 ? O.emptyStateIcon : void 0,
                    title: l.t(null, void 0, n(876809)),
                    text: l.t(null, void 0, n(307104)),
                    action: i.createElement(B.Button, {
                        className: O.button,
                        onClick: function() {
                            t && !t.visible().value() && t.show()
                        }
                    }, l.t(null, void 0, n(815399)))
                }))
            }
            var W = n(552279),
                A = n(632446),
                z = n(833813),
                F = n(558470),
                L = n(55103),
                q = n(694553),
                K = n(10701),
                U = n(612247),
                J = n(821350),
                $ = n(508846),
                j = n(768985),
                G = n(668669),
                Y = n(915812),
                Z = n(568450);
            const Q = {
                    widgetType: 0,
                    symbol: "",
                    extendedSymbol: "",
                    deepHistoryDateRange: {
                        dateRange: {
                            from: new Date,
                            to: new Date
                        },
                        dateBounds: {
                            dateFromMax: new Date,
                            dateToMin: new Date
                        }
                    },
                    resolution: new Z.Interval(Z.ResolutionKind.Days, 1),
                    strategy: null,
                    strategies: [],
                    deepHistoryCurrentRequestParams: null,
                    deepHistoryReportData: null,
                    deepHistoryPrevRequestParams: null,
                    deepHistoryPrevReportData: null,
                    generateReportButtonEnabled: !0,
                    strategyHintProps: {},
                    timezone: null,
                    tzProperty: null,
                    minTickProperty: null,
                    activeReportTab: "Overview",
                    formatter: null,
                    csvReportProgress: !1,
                    userInputsState: null,
                    chartStyle: "",
                    pointValue: 1,
                    chartCurrency: "",
                    minTick: "1",
                    layoutType: 1,
                    setWidgetType: e => {},
                    setDeepHistoryDateRange: e => {},
                    setStrategy: e => {},
                    setGenerateReportButtonEnabled: e => {},
                    setErrorHint: e => {},
                    setActiveReportTab: e => {},
                    setCSVReportProgress: e => {},
                    resetDeepHistoryReport: () => {}
                },
                X = i.createContext(Q);
            var ee = n(49437);

            function te(e, t) {
                const n = ne(new Date);
                let r = ne(e.from),
                    i = ne(e.to);
                if (n.getTime() < i.getTime() && (i = n), t.isIntraday() || t.isRange()) return {
                    dateRange: {
                        from: r,
                        to: i
                    },
                    dateBounds: {
                        dateFromMax: i,
                        dateToMin: r
                    }
                };
                const a = t.inMilliseconds();
                return r.getTime() > i.getTime() - a && (r = new Date(i.getTime() - a)), {
                    dateRange: {
                        from: r,
                        to: i
                    },
                    dateBounds: {
                        dateFromMax: new Date(i.getTime() - t.inMilliseconds()),
                        dateToMin: new Date(r.getTime() + t.inMilliseconds())
                    }
                }
            }

            function ne(e) {
                return new Date(e.setHours(0, 0, 0, 0))
            }

            function re(e) {
                const t = function(e) {
                    const t = ee.TVLocalStorage.getItem("backtesting");
                    if (!t) return null;
                    const n = JSON.parse(t);
                    return n && n.from && n.to ? te({
                        from: new Date(1e3 * n.from),
                        to: new Date(1e3 * n.to)
                    }, e) : null
                }(e);
                if (t) return { ...t,
                    dateRange: {
                        from: ne(t.dateRange.from),
                        to: ne(t.dateRange.to)
                    }
                };
                return te({
                    from: new Date((new Date).setMonth((new Date).getMonth() - 12)),
                    to: new Date
                }, e)
            }
            var ie = n(991501);
            const ae = "1800-01-01";

            function se(e) {
                const {
                    resolution: t,
                    deepHistoryDateRange: r,
                    firstBarTime: a
                } = e, {
                    setDeepHistoryDateRange: s
                } = (0, i.useContext)(X), [o, c] = (0, i.useState)(new Date(ae));
                (0, i.useEffect)((() => {
                    r.dateRange.from.getTime() < o.getTime() && u({
                        from: new Date(o),
                        to: r.dateRange.to
                    }, t), r.dateRange.to.getTime() < o.getTime() && u({
                        from: r.dateRange.from,
                        to: new Date
                    }, t)
                }), [o]), (0, i.useEffect)((() => {
                    a ? (a > r.dateRange.from.getTime() && u({
                        from: new Date(a),
                        to: r.dateRange.to
                    }, t), c(new Date(a))) : c(new Date(ae))
                }), [a]);
                const u = (0, i.useCallback)(((e, t) => {
                    s(te(e, t))
                }), []);
                return i.createElement("div", {
                    className: ie.container
                }, i.createElement("div", {
                    className: ie.datePickerContainer
                }, i.createElement("div", {
                    className: ie.datePickerWrapper
                }, i.createElement(j.DatePicker, {
                    InputComponent: G.DateInput,
                    initial: r.dateRange.from,
                    onPick: function(e) {
                        if (e) {
                            const n = ne(e);
                            u({
                                from: n,
                                to: r.dateRange.to
                            }, t)
                        }
                    },
                    minDate: o,
                    maxDate: r.dateBounds.dateFromMax,
                    endSlotComponent: ({
                        onSelectDate: e
                    }) => i.createElement(Y.SquareButton, {
                        variant: "secondary",
                        onClick: () => {
                            a ? (c(new Date(a)), u({
                                from: new Date(a),
                                to: r.dateRange.to
                            }, t)) : (c(new Date(ae)), u({
                                from: new Date(ae),
                                to: r.dateRange.to
                            }, t)), e(o)
                        },
                        stretch: !0
                    }, l.t(null, void 0, n(942055))),
                    revertInvalidData: !0
                }))), i.createElement("div", {
                    className: ie.separator
                }, "—"), i.createElement("div", null, i.createElement("div", {
                    className: ie.datePickerWrapper
                }, i.createElement(j.DatePicker, {
                    InputComponent: G.DateInput,
                    initial: r.dateRange.to,
                    onPick: function(e) {
                        if (e) {
                            const n = ne(e);
                            u({
                                from: r.dateRange.from,
                                to: n
                            }, t)
                        }
                    },
                    minDate: r.dateBounds.dateToMin,
                    maxDate: new Date,
                    endSlotComponent: ({
                        onSelectDate: e
                    }) => i.createElement(Y.SquareButton, {
                        variant: "secondary",
                        onClick: () => {
                            u({
                                from: r.dateRange.from,
                                to: new Date
                            }, t), e(new Date)
                        },
                        stretch: !0
                    }, l.t(null, void 0, n(777166))),
                    revertInvalidData: !0
                }))))
            }
            var oe = n(458692),
                le = n(634993),
                ce = n(217802),
                ue = n(176406),
                de = n(540189);

            function he(e) {
                const {
                    strategy: t,
                    strategies: r,
                    onChangeStrategy: a
                } = e, s = l.t(t.metaInfo().shortDescription, {
                    context: "study"
                }, n(168716)), {
                    isOpened: c,
                    close: u,
                    onButtonClick: d,
                    buttonRef: h
                } = (0, oe.useDisclosure)({}), [p, m] = (0, i.useState)(t.id());
                return (0, i.useEffect)((() => {
                        m(t.id())
                    }), [t]),
                    i.createElement(i.Fragment, null, 1 === r.length ? i.createElement("div", {
                        "data-strategy-title": s,
                        className: o()(de.singleStrategy, de.title, de.textEllipsis, "apply-overflow-tooltip"),
                        title: s
                    }, s) : i.createElement(ce.PopupMenuDisclosureView, {
                        onClose: u,
                        buttonRef: h,
                        isOpened: c,
                        button: i.createElement(ue.TextButton, {
                            "data-strategy-title": s,
                            className: de.dropdownBtn,
                            typography: "semibold14px",
                            reference: h,
                            onClick: d,
                            color: "gray",
                            size: "small",
                            showCaret: !0
                        }, s),
                        popupChildren: i.createElement(i.Fragment, null, r.map((e => {
                            const t = l.t(e.metaInfo().shortDescription, {
                                context: "study"
                            }, n(168716));
                            return i.createElement(le.PopupMenuItem, {
                                key: e.id(),
                                label: t,
                                onClick: () => (e => {
                                    u();
                                    const t = r.find((t => t.id() === e));
                                    t && (m(t.id()), a(t))
                                })(e.id()),
                                isActive: e.id() === p
                            })
                        })))
                    }))
            }
            var pe = n(480192),
                me = n(309103);

            function ge(e) {
                var t;
                const {
                    solutionId: r,
                    className: a,
                    tooltip: s,
                    ariaLabel: o,
                    disableHref: c = !1
                } = e, u = i.useCallback((e => {
                    e.preventDefault(), (0, D.showSupportDialog)({
                        solutionId: r
                    })
                }), [r]), d = null !== (t = null != o ? o : s) && void 0 !== t ? t : l.t(null, void 0, n(790263));
                return i.createElement(pe.IconQuestionInformationLink, {
                    href: c ? "#" : `/support/solutions/${r}`,
                    onClick: u,
                    className: a,
                    tooltip: s,
                    ariaLabel: d,
                    icon: "question",
                    showTooltip: me.showOnElement,
                    hideTooltip: me.hide
                })
            }
            var ye = n(191035),
                ve = n(385319),
                fe = n(396607),
                be = n(35611),
                _e = n(602986);

            function Ce(e) {
                return {
                    Overview: l.t(null, void 0, n(37260)),
                    "Performance Summary": l.t(null, void 0, n(158496)),
                    "List of Trades": l.t(null, void 0, n(61401)),
                    Properties: l.t(null, void 0, n(873369))
                }[e]
            }
            const Se = (0, L.getTabSwitcher)();

            function we(e) {
                const {
                    widgetType: t,
                    strategy: r,
                    strategies: a,
                    deepHistoryDateRange: s,
                    resolution: c,
                    chartWidgetCollection: u,
                    deepHistoryTabsEnabled: d,
                    trackEvent: h,
                    onGenerateReportClickCb: p,
                    generateReportButtonEnabled: m,
                    isStatic: g,
                    activeReportTab: y,
                    csvReportProgress: v,
                    firstBarTime: f,
                    layoutType: b
                } = e, {
                    setWidgetType: _,
                    setStrategy: C,
                    setActiveReportTab: S
                } = (0, i.useContext)(X), w = u && u.activeChartWidget.value(), [k, E] = (0, i.useState)(), T = 1 === t, D = 0 === t || d;
                return (0, i.useEffect)((() => (r && E(r), k && r && k.id() !== r.id() && C(r), () => {})), [r]), i.createElement(i.Fragment, null, i.createElement("div", {
                    className: o()(_e.container, g && _e.staticContainer, T && (0 === b ? _e.containerNarrow : _e.containerWide))
                }, i.createElement("div", {
                    className: _e.strategyGroup
                }, k && i.createElement(he, {
                    strategies: a,
                    strategy: k,
                    onChangeStrategy: C
                }), !g && i.createElement("div", {
                    className: _e.fixedContent
                }, i.createElement(K.LightButton, {
                    startIcon: ye,
                    variant: "ghost",
                    onClick: function() {
                        if (null === r) return;
                        h("Settings Dialog"), (0, be.trackStrategyTesterButtonClick)(T ? "deep_history_on" : "deep_history_off", {
                            activeTab: y,
                            button: "settings",
                            isButtonOpen: !0
                        });
                        w && w.showChartPropertiesForSource(r)
                    },
                    size: "small",
                    className: "apply-common-tooltip",
                    title: l.t(null, void 0, n(389517)),
                    iconOnly: !0
                }), !T && i.createElement(K.LightButton, {
                    startIcon: ve,
                    variant: "ghost",
                    onClick: function() {
                        if (null === r) return;
                        h("Alert Dialog"), (0, be.trackStrategyTesterButtonClick)(T ? "deep_history_on" : "deep_history_off", {
                            activeTab: y,
                            button: "create_alert",
                            isButtonOpen: !0
                        });
                        window.runOrSignIn((() => {
                            (0, J.invokeAlertEditorWithOnlineSeries)({
                                dataSourceHub: u ? u.activeChartWidget.value().model().model() : void 0,
                                series: r,
                                actionSource: "strategy_tester_add_alert"
                            })
                        }), {
                            source: "Strategy widget alert button"
                        })
                    },
                    size: "small",
                    className: "apply-common-tooltip",
                    title: l.t(null, void 0, n(108700)),
                    iconOnly: !0
                }), "Overview" === y || T && !d || !v && i.createElement(K.LightButton, {
                    startIcon: fe,
                    variant: "ghost",
                    onClick: function() {
                        h("Generate CSV report Dialog"), (0, be.trackStrategyTesterButtonClick)(T ? "deep_history_on" : "deep_history_off", {
                            activeTab: y,
                            button: "download"
                        });
                        (0, A.enabled)(z.ProductFeatures.EXPORT_CHART_DATA) ? e.onCSVReportRequest && e.onCSVReportRequest.fire(): (0, $.createGoProDialog)({
                            feature: "backtestingExport"
                        })
                    },
                    size: "small",
                    className: "apply-common-tooltip",
                    title: l.t(null, void 0, n(125769)),
                    iconOnly: !0
                }), v && i.createElement(K.LightButton, {
                    variant: "ghost",
                    size: "small"
                }, i.createElement(U.Loader, {
                    size: "small"
                })))), g && i.createElement("div", {
                    className: _e.staticSupportButton
                }, i.createElement(ge, {
                    solutionId: R.solutionIds.BACKTESTING_WIDGET,
                    className: _e.supportButton
                })), !g && i.createElement("div", {
                    className: _e.deepHistoryContainer
                }, (0, A.enabled)(z.ProductFeatures.DEEP_HISTORY_BACKTEST) && !g && i.createElement("div", {
                    className: _e.switchGroup
                }, i.createElement(q.Switch, {
                    checked: T,
                    onChange: function() {
                        const e = T ? 0 : 1;
                        _(e), (0, be.trackStrategyTesterButtonClick)(1 === e ? "deep_history_on" : "deep_history_off")
                    }
                }), i.createElement("div", {
                    className: o()(_e.switchTitle, _e.textEllipsis)
                }, l.t(null, void 0, n(181216))), i.createElement("div", {
                    className: _e.fixedContent
                }, i.createElement("div", null, i.createElement(F.Badge, {
                    className: _e.badgeDeepHistory,
                    size: F.BadgeSize.Small
                }, l.t(null, void 0, n(577070)).toUpperCase())), i.createElement(ge, {
                    solutionId: R.solutionIds.DEEP_BACKTESTING,
                    className: _e.deepHistorySolution
                })))), !g && i.createElement("div", {
                    className: o()(_e.historyParams, !T && "i-hidden", 1 === b && _e.historyParamsWide)
                }, i.createElement(se, {
                    deepHistoryDateRange: s,
                    resolution: c,
                    firstBarTime: f
                }), i.createElement(B.Button, {
                    className: _e.generateReportBtn,
                    onClick: () => {
                        (0, W.runOrGoPro)((() => {
                            null !== r && m && p()
                        }), z.ProductFeatures.DEEP_HISTORY_BACKTEST, {
                            feature: "deepHistoryBacktest"
                        })
                    },
                    disabled: !m
                }, l.t(null, void 0, n(631811))))), i.createElement(Se, {
                    onChange: S,
                    tabs: ["Overview", "Performance Summary", "List of Trades", "Properties"],
                    activeTab: y,
                    translationCb: Ce,
                    classNameTab: o()(_e.tabNoOutline, !D && _e.disableTab),
                    classNameSwitcher: _e.tabsContainer,
                    disabled: !D,
                    disableScrollForActiveTab: !0,
                    shouldMeasureHorizScroll: !1,
                    size: "xsmall"
                }))
            }

            function ke(e) {
                return {
                    se: l.t(null, void 0, n(871181)),
                    sx: l.t(null, void 0, n(150631)),
                    le: l.t(null, void 0, n(593916)),
                    lx: l.t(null, void 0, n(819530))
                }[e] || e
            }
            var Ee = n(747342),
                Te = n.n(Ee);
            const De = "Etc/UTC";

            function Re(e, t, n) {
                const r = function(e, t) {
                    let n = e.value();
                    return n && "exchange" === n && t && (n = t), n || De
                }(e, t);
                if (n && r === n.name()) return n;
                if (!Te()) throw new ReferenceError("PineJsCalendar is undefined");
                const i = Te().get_timezone(r);
                return i.is_valid() ? i : null
            }
            var Ie = n(720444);

            function xe(e) {
                return Object.keys(e).reduce(((t, n) => {
                    const r = e[n];
                    return { ...t,
                        [n]: (0, _.isObject)(r) ? r.v : r
                    }
                }), {})
            }

            function Ne(e) {
                return null === e ? null : {
                    strategy: xe(w(e)),
                    dependencies: k(e, !0).map((e => xe(e.inputs)))
                }
            }

            function Ve(e) {
                return null === e || void 0 === e.minmov || void 0 === e.pricescale ? null : (0, Ie.createSeriesFormatter)(e, "default").format(e.minmov / e.pricescale)
            }

            function Pe(e) {
                return e && e.currency_code || null
            }

            function He(e) {
                const t = (n = e.deepHistoryPrevRequestParams, r = e.deepHistoryDateRange, null === n || JSON.stringify(n.deepHistoryDateRange.dateRange) !== JSON.stringify(r.dateRange));
                var n, r;
                t && function(e) {
                    const t = function(e) {
                        const t = e.from.getTime();
                        if (e.to && e.to.getTime() >= e.from.getTime()) {
                            const n = e.to.getTime();
                            return {
                                from: Math.round(t / 1e3),
                                to: Math.round(n / 1e3)
                            }
                        }
                        return null
                    }(e);
                    t && Be(t)
                }(e.deepHistoryDateRange.dateRange), e.strategy && Be({
                    strategy_id: e.strategy.id()
                });
                const i = null === e.userInputsState || null === e.deepHistoryPrevRequestParams || JSON.stringify(e.deepHistoryPrevRequestParams.strategyInputsState) !== JSON.stringify(e.userInputsState),
                    a = t || i || null !== e.deepHistoryPrevRequestParams && (s = e.deepHistoryPrevRequestParams.timezone, o = e.timezone, !(null === s && null === o || null !== s && null !== o && s.name() === o.name())) || function(e, t) {
                        return null === e || e.strategy !== t.strategy || e.extendedSymbol !== t.extendedSymbol || e.resolution.value() !== t.resolution.value()
                    }(e.deepHistoryPrevRequestParams, e);
                var s, o;
                let l;
                return l = a ? null : e.deepHistoryPrevReportData ? e.deepHistoryPrevReportData : e.deepHistoryReportData, { ...e,
                    generateReportButtonEnabled: a,
                    deepHistoryReportData: l
                }
            }

            function Be(e) {
                const t = ee.TVLocalStorage.getItem("backtesting");
                if (t) {
                    const n = JSON.parse(t);
                    ee.TVLocalStorage.setItem("backtesting", JSON.stringify({ ...n,
                        ...e
                    }))
                } else ee.TVLocalStorage.setItem("backtesting", JSON.stringify(e))
            }

            function Oe(e, t) {
                var n;
                switch (t.type) {
                    case "updateSymbol":
                        const i = null === e.minTickProperty ? null : Ve(t.symbolInfo),
                            a = t.symbolInfo ? t.symbolInfo.timezone : null,
                            s = e.tzProperty ? Re(e.tzProperty, a, e.timezone) : e.timezone;
                        return He({ ...e,
                            timezone: s,
                            chartCurrency: t.chartCurrency,
                            minTick: i,
                            chartStyle: t.chartStyle,
                            pointValue: t.pointValue,
                            symbol: t.symbolStr,
                            strategyHintProps: t.strategyHintProps,
                            formatter: t.formatter,
                            resolution: t.resolution,
                            extendedSymbol: t.extendedSymbol
                        });
                    case "onUpdateChartStyle":
                        return { ...e,
                            chartStyle: t.chartStyle
                        };
                    case "setWidgetType":
                        return He({ ...e,
                            widgetType: t.widgetType,
                            strategyHintProps: V(t.widgetType, t.isRangeBasedStyle)
                        });
                    case "setDeepHistoryDateRange":
                        return He({ ...e,
                            deepHistoryDateRange: t.deepHistoryDateRange
                        });
                    case "setResolution":
                        return function(e, t) {
                            if (e.resolution.value() === t.resolution.value()) return e;
                            const n = te(e.deepHistoryDateRange.dateRange, t.resolution);
                            return He({ ...e,
                                resolution: t.resolution,
                                deepHistoryDateRange: n
                            })
                        }(e, t);
                    case "setStrategy":
                        return t.selectedStrategyManager.setSelectedStrategy(t.strategy), He({ ...e,
                            strategy: t.strategy,
                            generateReportButtonEnabled: !0,
                            userInputsState: Ne(t.strategy)
                        });
                    case "onGenerateButtonClick":
                        return (0, be.trackStrategyTesterButtonClick)(1 === e.widgetType ? "deep_history_on" : "deep_history_off", {
                            activeTab: e.activeReportTab,
                            button: "generate_report"
                        }), { ...e,
                            deepHistoryReportData: null,
                            generateReportButtonEnabled: !1,
                            deepHistoryPrevRequestParams: null,
                            deepHistoryPrevReportData: null,
                            deepHistoryCurrentRequestParams: {
                                resolution: e.resolution,
                                symbol: e.symbol,
                                extendedSymbol: e.extendedSymbol,
                                strategy: e.strategy,
                                deepHistoryDateRange: e.deepHistoryDateRange,
                                strategyInputsState: (0, r.ensureNotNull)(Ne(e.strategy)),
                                timezone: e.timezone,
                                excludeTrades: !0
                            }
                        };
                    case "setDeepHistoryReportData":
                        return { ...e,
                            deepHistoryReportData: t.deepHistoryReportData
                        };
                    case "updateStateOnChartChange":
                        return function(e, t) {
                            const n = t.resolution,
                                r = t.symbolInfo ? t.symbolInfo.timezone : null,
                                i = t.tzProperty ? Re(t.tzProperty, r, e.timezone) : e.timezone,
                                a = te(e.deepHistoryDateRange.dateRange, n),
                                s = t.selectedStrategyManager.updateSelectedStrategy(t.newStrategies, t.chartChanged, t.strategyToSelect);
                            return He({ ...e,
                                resolution: n,
                                timezone: i,
                                strategyHintProps: V(e.widgetType, t.isRangeBasedStyle),
                                formatter: t.formatter,
                                chartStyle: t.chartStyle,
                                chartCurrency: t.chartCurrency,
                                pointValue: t.pointValue,
                                minTick: t.minTick,
                                deepHistoryDateRange: a,
                                strategy: s,
                                strategies: t.newStrategies,
                                symbol: t.symbolStr,
                                extendedSymbol: t.extendedSymbol,
                                userInputsState: Ne(s),
                                tzProperty: t.tzProperty,
                                minTickProperty: t.minTickProperty
                            })
                        }(e, t);
                    case "onTimezoneChange":
                        return He({ ...e,
                            timezone: Re(t.tzProperty, t.symbolInfoTimezone, e.timezone)
                        });
                    case "onMinTickChange":
                        const o = null === e.minTickProperty ? null : Ve(t.symbolInfo);
                        return { ...e,
                            formatter: t.formatter,
                            minTick: o
                        };
                    case "setGenerateReportButtonEnabled":
                        return { ...e,
                            generateReportButtonEnabled: t.enabled
                        };
                    case "setActiveReportTab":
                        return 1 === e.widgetType ? ((0, be.trackStrategyTesterButtonClick)("deep_history_on", {
                            button: t.reportTab,
                            isButtonOpen: !0
                        }), { ...e,
                            activeReportTab: t.reportTab,
                            strategyHintProps: {
                                isDeepHistory: !0,
                                isRangeBasedStyle: t.isRangeBasedStyle
                            }
                        }) : ((0, be.trackStrategyTesterButtonClick)("deep_history_off", {
                            button: t.reportTab,
                            isButtonOpen: !0
                        }), { ...e,
                            activeReportTab: t.reportTab
                        });
                    case "onDeepHistoryDataUpdate":
                        return { ...e,
                            deepHistoryReportData: t.deepHistoryReportData,
                            deepHistoryPrevReportData: t.deepHistoryReportData,
                            deepHistoryPrevRequestParams: e.deepHistoryCurrentRequestParams,
                            deepHistoryCurrentRequestParams: null,
                            strategyHintProps: {
                                isDeepHistory: !0,
                                isRangeBasedStyle: t.isRangeBasedStyle
                            }
                        };
                    case "setStrategyHintProps":
                        return { ...e,
                            strategyHintProps: t.strategyHintProps,
                            generateReportButtonEnabled: null !== (n = t.generateReportButtonEnabled) && void 0 !== n ? n : e.generateReportButtonEnabled
                        };
                    case "setCSVReportInProgress":
                        return { ...e,
                            csvReportProgress: t.inProgress
                        };
                    case "resetReport":
                        return { ...e,
                            deepHistoryReportData: null,
                            deepHistoryCurrentRequestParams: null,
                            generateReportButtonEnabled: !0
                        };
                    case "onUserInputsChange":
                        const l = Ne(e.strategy);
                        return He({ ...e,
                            userInputsState: l
                        });
                    case "onLayoutWidthChange":
                        const c = t.width < 1279 ? 1 : 0;
                        return { ...e,
                            layoutType: c
                        };
                    default:
                        return e
                }
            }
            class Me {
                constructor(e, t, n) {
                    this._chartStrategyMap = {}, this._currentChartId = n, this._strategies = e, this.setSelectedStrategy(t)
                }
                setSelectedStrategy(e) {
                    null !== this._currentChartId && (this._chartStrategyMap[this._currentChartId] = e ? e.id() : null)
                }
                setCurrentChartId(e) {
                    this._currentChartId = e
                }
                updateSelectedStrategy(e, t, n) {
                    const r = this._strategies;
                    if (this._strategies = e,
                        t) return this._setCurrentOrDefaultStrategy();
                    if (n) return n;
                    const i = this._setNewStrategy(r);
                    return null !== i ? i : this._setCurrentOrDefaultStrategy()
                }
                _setCurrentOrDefaultStrategy() {
                    const e = this._getCurrentStrategy();
                    if (null !== e) return e;
                    const t = this._strategies[0] || null;
                    return this.setSelectedStrategy(t), t
                }
                _setNewStrategy(e) {
                    const t = this._getNewStrategy(e);
                    return t ? (this.setSelectedStrategy(t), t) : null
                }
                _getCurrentStrategy() {
                    if (null === this._currentChartId) return null;
                    const e = this._chartStrategyMap[this._currentChartId];
                    if (!e) return null;
                    for (let t = 0; t < this._strategies.length; t++)
                        if (this._strategies[t].id() === e) return this._strategies[t];
                    return null
                }
                _getNewStrategy(e) {
                    const t = this._strategies.find((t => -1 === e.indexOf(t)));
                    return null != t ? t : null
                }
            }
            const We = {
                0: l.t(null, void 0, n(16812)),
                1: l.t(null, void 0, n(463528)),
                2: l.t(null, void 0, n(301277)),
                3: l.t(null, void 0, n(542097)),
                9: l.t(null, void 0, n(661582)),
                10: l.t(null, void 0, n(117712)),
                12: l.t(null, void 0, n(631994)),
                13: l.t(null, void 0, n(636018))
            };

            function Ae(e, t) {
                switch (t) {
                    case 0:
                    case 1:
                    case 2:
                    case 3:
                    case 9:
                    case 10:
                    case 12:
                    case 13:
                        return We[t];
                    default:
                        return e.statusProvider({}).getSplitTitle().chartStyle
                }
            }
            const ze = {
                    date_range: !1,
                    chart_settings: !1,
                    strategy_properties: !1,
                    strategy_inputs: !1
                },
                Fe = {
                    scrollTop: 0,
                    scrollLeft: 0
                },
                Le = "properties_sections_dh",
                qe = "properties_sections_qs";

            function Ke(e) {
                return Boolean(e && e.trades && e.trades.length)
            }

            function Ue(e, t) {
                return {
                    percentNumber: "string" == typeof t ? parseFloat(t) : t,
                    valueNumber: "string" == typeof e ? parseFloat(e) : e
                }
            }

            function Je(e) {
                return e + "Percent"
            }

            function $e(e, t) {
                return "string" == typeof t && (t = parseFloat(t)), "string" != typeof e && e.isNegative ? e.isNegative(null != t ? t : 0) : (null != t ? t : 0) < 0
            }

            function je(e, t) {
                if (t) return ze;
                const n = ee.TVLocalStorage.getItem("backtesting");
                if (!n) return ze;
                const r = 1 === e ? Le : qe,
                    i = JSON.parse(n);
                return i && i[r] ? i[r] : ze
            }

            function Ge(e, t, n) {
                if (n) return;
                Be({
                    [1 === t ? Le : qe]: e
                })
            }

            function Ye(e) {
                if (!e) return null;
                const t = e.activeChartWidget.value();
                return t.layoutId() + "_" + t.id()
            }
            var Ze = n(443549),
                Qe = n(314802);
            const Xe = () => {},
                et = "~m~";
            class tt {
                constructor(e, t = {}) {
                    this.sessionid = null, this.connected = !1, this._timeout = null, this._base = e, this._options = {
                        timeout: t.timeout || 2e4,
                        connectionType: t.connectionType
                    }
                }
                connect() {
                    this._socket = new WebSocket(this._prepareUrl()), this._socket.onmessage = e => {
                        if ("string" != typeof e.data) throw new TypeError(`The WebSocket message should be a string. Recieved ${Object.prototype.toString.call(e.data)}`);
                        this._onData(e.data)
                    }, this._socket.onclose = this._onClose.bind(this), this._socket.onerror = this._onError.bind(this)
                }
                send(e) {
                    this._socket && this._socket.send(this._encode(e))
                }
                disconnect() {
                    this._clearIdleTimeout(), this._socket && (this._socket.onmessage = Xe, this._socket.onclose = Xe, this._socket.onerror = Xe, this._socket.close())
                }
                _clearIdleTimeout() {
                    null !== this._timeout && (clearTimeout(this._timeout), this._timeout = null)
                }
                _encode(e) {
                    let t, n = "";
                    const r = Array.isArray(e) ? e : [e],
                        i = r.length;
                    for (let e = 0; e < i; e++) t = null === r[e] || void 0 === r[e] ? "" : tt._stringify(r[e]), n += et + t.length + et + t;
                    return n
                }
                _decode(e) {
                    const t = [];
                    let n, r;
                    do {
                        if (e.substring(0, 3) !== et) return t;
                        n = "", r = "";
                        const i = (e = e.substring(3)).length;
                        for (let t = 0; t < i; t++) {
                            if (r = Number(e.substring(t, t + 1)), Number(e.substring(t, t + 1)) !== r) {
                                e = e.substring(n.length + et.length), n = Number(n);
                                break
                            }
                            n += r
                        }
                        t.push(e.substring(0, n)), e = e.substring(n)
                    } while ("" !== e);
                    return t
                }
                _onData(e) {
                    this._setTimeout();
                    const t = this._decode(e),
                        n = t.length;
                    for (let e = 0; e < n; e++) this._onMessage(t[e])
                }
                _setTimeout() {
                    this._clearIdleTimeout(), this._timeout = setTimeout(this._onTimeout.bind(this), this._options.timeout)
                }
                _onTimeout() {
                    this.disconnect(), this._onDisconnect({
                        code: 4e3,
                        reason: "socket.io timeout",
                        wasClean: !1
                    })
                }
                _onMessage(e) {
                    this.sessionid ? this._checkIfHeartbeat(e) ? this._onHeartbeat(e.slice(3)) : this._checkIfJson(e) ? this._base.onMessage(JSON.parse(e.slice(3))) : this._base.onMessage(e) : (this.sessionid = e, this._onConnect())
                }
                _checkIfHeartbeat(e) {
                    return this._checkMessageType(e, "h")
                }
                _checkIfJson(e) {
                    return this._checkMessageType(e, "j")
                }
                _checkMessageType(e, t) {
                    return e.substring(0, 3) === "~" + t + "~"
                }
                _onHeartbeat(e) {
                    this.send("~h~" + e)
                }
                _onConnect() {
                    this.connected = !0, this._base.onConnect()
                }
                _onDisconnect(e) {
                    this._clear(), this._base.onDisconnect(e), this.sessionid = null
                }
                _clear() {
                    this.connected = !1
                }
                _prepareUrl() {
                    const e = rt(this._base.host);
                    if (e.pathname += "socket.io/websocket", e.protocol = "wss:", e.searchParams.append("from", window.location.pathname.slice(1, 50)), e.searchParams.append("date", window.BUILD_TIME || ""), (0, Qe.isOnMobileAppPage)("any") && e.searchParams.append("client", "mobile"), this._options.connectionType && e.searchParams.append("type", this._options.connectionType), window.WEBSOCKET_PARAMS_ANALYTICS) {
                        const {
                            ws_page_uri: t,
                            ws_ancestor_origin: n
                        } = window.WEBSOCKET_PARAMS_ANALYTICS;
                        t && e.searchParams.append("page-uri", t), n && e.searchParams.append("ancestor-origin", n)
                    }
                    return e.href
                }
                _onClose(e) {
                    this._clearIdleTimeout(), this._onDisconnect(e)
                }
                _onError(e) {
                    this._clearIdleTimeout(), this._clear(), this._base.emit("error", [e]), this.sessionid = null
                }
                static _stringify(e) {
                    return "[object Object]" === Object.prototype.toString.call(e) ? "~j~" + JSON.stringify(e) : String(e)
                }
            }
            class nt {
                constructor(e, t) {
                    this.host = e, this._connecting = !1, this._events = {}, this.transport = this._getTransport(t)
                }
                isConnected() {
                    return !!this.transport && this.transport.connected
                }
                isConnecting() {
                    return this._connecting
                }
                connect() {
                    this.isConnected() || (this._connecting && this.disconnect(), this._connecting = !0, this.transport.connect())
                }
                send(e) {
                    this.transport && this.transport.connected && this.transport.send(e)
                }
                disconnect() {
                    this.transport && this.transport.disconnect()
                }
                on(e, t) {
                    e in this._events || (this._events[e] = []), this._events[e].push(t)
                }
                offAll() {
                    this._events = {}
                }
                onMessage(e) {
                    this.emit("message", [e])
                }
                emit(e, t = []) {
                    if (e in this._events) {
                        const n = this._events[e].concat(),
                            r = n.length;
                        for (let e = 0; e < r; e++) n[e].apply(this, t)
                    }
                }
                onConnect() {
                    this.clear(), this.emit("connect")
                }
                onDisconnect(e) {
                    this.emit("disconnect", [e])
                }
                clear() {
                    this._connecting = !1
                }
                _getTransport(e) {
                    return new tt(this, e)
                }
            }

            function rt(e) {
                const t = -1 !== e.indexOf("/") ? new URL(e) : new URL("wss://" + e);
                if ("wss:" !== t.protocol && "https:" !== t.protocol) throw new Error("Invalid websocket base " + e);
                return t.pathname.endsWith("/") || (t.pathname += "/"), t.search = "", t.username = "", t.password = "", t
            }
            var it = n(621681);
            const at = Number(window.TELEMETRY_WS_ERROR_LOGS_THRESHOLD) || 0;
            class st {
                constructor(e, t = {}) {
                    this._queueStack = [], this._logsQueue = [], this._telemetryObjectsQueue = [], this._reconnectCount = 0, this._redirectCount = 0, this._errorsCount = 0, this._errorsInfoSent = !1, this._connectionStart = null, this._connectionEstablished = null, this._reconnectTimeout = null, this._onlineCancellationToken = null, this._initialHost = t.initialHost || null, this._suggestedHost = e, this._proHost = t.proHost, this._reconnectHost = t.reconnectHost, this._noReconnectAfterTimeout = !0 === t.noReconnectAfterTimeout, this._dataRequestTimeout = t.dataRequestTimeout, this._connectionType = t.connectionType, this._doConnect(), t.pingRequired && -1 === window.location.search.indexOf("noping") && this._startPing()
                }
                connect() {
                    this._tryConnect()
                }
                resetCounters() {
                    this._reconnectCount = 0, this._redirectCount = 0
                }
                setLogger(e, t) {
                    this._logger = e, this._getLogHistory = t, this._flushLogs()
                }
                setTelemetry(e) {
                    this._telemetry = e, this._telemetry.reportSent.subscribe(this, this._onTelemetrySent), this._flushTelemetry()
                }
                onReconnect(e) {
                    this._onReconnect = e
                }
                isConnected() {
                    return !!this._socket && this._socket.isConnected()
                }
                isConnecting() {
                    return !!this._socket && this._socket.isConnecting()
                }
                on(e, t) {
                    return !!this._socket && ("connect" === e && this._socket.isConnected() ? t() : "disconnect" === e ? this._disconnectCallbacks.push(t) : this._socket.on(e, t), !0)
                }
                getSessionId() {
                    return this._socket && this._socket.transport ? this._socket.transport.sessionid : null
                }
                send(e) {
                    return this.isConnected() ? (this._socket.send(e), !0) : (this._queueMessage(e), !1)
                }
                getConnectionEstablished() {
                    return this._connectionEstablished
                }
                getHost() {
                    const e = this._tryGetProHost();
                    return null !== e ? e : this._reconnectHost && this._reconnectCount > 3 ? this._reconnectHost : this._suggestedHost
                }
                getReconnectCount() {
                    return this._reconnectCount
                }
                getRedirectCount() {
                    return this._redirectCount
                }
                getConnectionStart() {
                    return this._connectionStart
                }
                disconnect() {
                    this._clearReconnectTimeout(), (this.isConnected() || this.isConnecting()) && (this._propagateDisconnect(), this._disconnectCallbacks = [], this._closeSocket())
                }
                isMaxRedirects() {
                    return this._redirectCount >= 20
                }
                isMaxReconnects() {
                    return this._reconnectCount >= 20
                }
                getPingInfo() {
                    return this._pingInfo || null
                }
                _tryGetProHost() {
                    return window.TradingView && window.TradingView.onChartPage && "battle" === window.environment && !this._redirectCount && -1 === window.location.href.indexOf("ws_host") ? this._initialHost ? this._initialHost : void 0 !== window.user && window.user.pro_plan ? this._proHost || this._suggestedHost : null : null
                }
                _queueMessage(e) {
                    0 === this._queueStack.length && this._logMessage(0, "Socket is not connected. Queued a message"), this._queueStack.push(e)
                }
                _processMessageQueue() {
                    0 !== this._queueStack.length && (this._logMessage(0, "Processing queued messages"), this._queueStack.forEach(this.send.bind(this)), this._logMessage(0, "Processed " + this._queueStack.length + " messages"), this._queueStack = [])
                }
                _onDisconnect(e) {
                    this._noReconnectAfterTimeout || null !== this._reconnectTimeout || (this._reconnectTimeout = setTimeout(this._tryReconnect.bind(this), 5e3)), this._clearOnlineCancellationToken();
                    let t = "disconnect session:" + this.getSessionId();
                    e && (t += ", code:" + e.code + ", reason:" + e.reason, 1005 === e.code && this._sendTelemetry("websocket_code_1005")), this._logMessage(0, t), this._propagateDisconnect(e), this._closeSocket(), this._queueStack = []
                }
                _closeSocket() {
                    null !== this._socket && (this._socket.offAll(), this._socket.disconnect(), this._socket = null)
                }
                _logMessage(e, t) {
                    const n = {
                        method: e,
                        message: t
                    };
                    this._logger ? this._flushLogMessage(n) : (n.message = `[${(new Date).toISOString()}] ${n.message}`, this._logsQueue.push(n))
                }
                _flushLogMessage(e) {
                    switch (e.method) {
                        case 2:
                            this._logger.logDebug(e.message);
                            break;
                        case 3:
                            this._logger.logError(e.message);
                            break;
                        case 0:
                            this._logger.logInfo(e.message);
                            break;
                        case 1:
                            this._logger.logNormal(e.message)
                    }
                }
                _flushLogs() {
                    this._flushLogMessage({
                        method: 1,
                        message: "messages from queue. Start."
                    }), this._logsQueue.forEach((e => {
                        this._flushLogMessage(e)
                    })), this._flushLogMessage({
                        method: 1,
                        message: "messages from queue. End."
                    }), this._logsQueue = []
                }
                _sendTelemetry(e, t) {
                    const n = {
                        event: e,
                        params: t
                    };
                    this._telemetry ? this._flushTelemetryObject(n) : this._telemetryObjectsQueue.push(n)
                }
                _flushTelemetryObject(e) {
                    this._telemetry.sendChartReport(e.event, e.params, !1)
                }
                _flushTelemetry() {
                    this._telemetryObjectsQueue.forEach((e => {
                        this._flushTelemetryObject(e)
                    })), this._telemetryObjectsQueue = []
                }
                _doConnect() {
                    this._socket && (this._socket.isConnected() || this._socket.isConnecting()) || (this._clearOnlineCancellationToken(), this._host = this.getHost(), this._socket = new nt(this._host, {
                        timeout: this._dataRequestTimeout,
                        connectionType: this._connectionType
                    }), this._logMessage(0, "Connecting to " + this._host), this._bindEvents(), this._disconnectCallbacks = [], this._connectionStart = performance.now(), this._connectionEstablished = null, this._socket.connect())
                }
                _propagateDisconnect(e) {
                    const t = this._disconnectCallbacks.length;
                    for (let n = 0; n < t; n++) this._disconnectCallbacks[n](e || {})
                }
                _bindEvents() {
                    this._socket && (this._socket.on("connect", (() => {
                        const e = this.getSessionId();
                        if ("string" == typeof e) {
                            const t = JSON.parse(e);
                            if (t.redirect) return this._redirectCount += 1, this._suggestedHost = t.redirect, this.isMaxRedirects() && this._sendTelemetry("redirect_bailout"), void this._redirect()
                        }
                        this._connectionEstablished = performance.now(), this._processMessageQueue(), this._logMessage(0, "connect session:" + e)
                    })), this._socket.on("disconnect", this._onDisconnect.bind(this)), this._socket.on("close", this._onDisconnect.bind(this)), this._socket.on("error", (e => {
                        this._logMessage(0, new Date + " session:" + this.getSessionId() + " websocket error:" + JSON.stringify(e)), this._sendTelemetry("websocket_error"), this._errorsCount++, !this._errorsInfoSent && this._errorsCount >= at && (void 0 !== this._lastConnectCallStack && (this._sendTelemetry("websocket_error_connect_stack", {
                                text: this._lastConnectCallStack
                            }), delete this._lastConnectCallStack), void 0 !== this._getLogHistory && this._sendTelemetry("websocket_error_log", {
                                text: this._getLogHistory(50).join("\n")
                            }),
                            this._errorsInfoSent = !0)
                    })))
                }
                _redirect() {
                    this.disconnect(), this._reconnectWhenOnline()
                }
                _tryReconnect() {
                    this._tryConnect() && (this._reconnectCount += 1)
                }
                _tryConnect() {
                    return this._clearReconnectTimeout(), this._lastConnectCallStack = new Error(`WebSocket connect stack. Is connected: ${this.isConnected()}.`).stack || "", !this.isConnected() && (this.disconnect(), this._reconnectWhenOnline(), !0)
                }
                _clearOnlineCancellationToken() {
                    this._onlineCancellationToken && (this._onlineCancellationToken(), this._onlineCancellationToken = null)
                }
                _clearReconnectTimeout() {
                    null !== this._reconnectTimeout && (clearTimeout(this._reconnectTimeout), this._reconnectTimeout = null)
                }
                _reconnectWhenOnline() {
                    if (navigator.onLine) return this._logMessage(0, "Network status: online - trying to connect"), this._doConnect(), void(this._onReconnect && this._onReconnect());
                    this._logMessage(0, "Network status: offline - wait until online"), this._onlineCancellationToken = (0, it.callWhenOnline)((() => {
                        this._logMessage(0, "Network status changed to online - trying to connect"), this._doConnect(), this._onReconnect && this._onReconnect()
                    }))
                }
                _onTelemetrySent(e) {
                    "websocket_error" in e && (this._errorsCount = 0, this._errorsInfoSent = !1)
                }
                _startPing() {
                    if (this._pingIntervalId) return;
                    const e = rt(this.getHost());
                    e.pathname += "ping", e.protocol = "https:";
                    let t = 0,
                        n = 0;
                    const r = e => {
                        this._pingInfo = this._pingInfo || {
                            max: 0,
                            min: 1 / 0,
                            avg: 0
                        };
                        const r = (new Date).getTime() - e;
                        r > this._pingInfo.max && (this._pingInfo.max = r), r < this._pingInfo.min && (this._pingInfo.min = r), t += r, n++, this._pingInfo.avg = t / n, n >= 10 && this._pingIntervalId && (clearInterval(this._pingIntervalId), delete this._pingIntervalId)
                    };
                    this._pingIntervalId = setInterval((() => {
                        const t = (new Date).getTime(),
                            n = new XMLHttpRequest;
                        n.open("GET", e, !0), n.send(), n.onreadystatechange = () => {
                            n.readyState === XMLHttpRequest.DONE && 200 === n.status && r(t)
                        }
                    }), 1e4)
                }
            }
            var ot = n(325925),
                lt = n(982987),
                ct = n(272001),
                ut = n(988411),
                dt = n.n(ut);
            class ht {
                constructor() {
                    this.loading = new(dt())(!1), this.loadingComplete = new(g()), this.onError = new(g()), this._data = new(dt())(null), this._dataHandler = null
                }
                getCurrentData() {
                    return this._data.value()
                }
                onData(e, t) {
                    this._dataHandler && this._data.unsubscribe(this._dataHandler), this._dataHandler = e, this._data.subscribe(this._dataHandler), t && this._dataHandler(this._data.value())
                }
                destroy() {
                    null !== this._dataHandler && this._data.unsubscribe(this._dataHandler), this._data.deleteValue(), this._dataHandler = null
                }
                _setData(e) {
                    this._data.setValue(e)
                }
            }
            const pt = (0, ct.getLogger)("Backtesting.DeepHistory");
            class mt extends ht {
                constructor(e, t) {
                    super(), this._wsConnection = null, this._sessionid = null, this._intentionalSocketClose = !1, this._wsHost = window.WEBSOCKET_HOST_FOR_DEEP_BACKTESTING, this._requestId = 0, this._bindListeners = () => {
                        null !== this._wsConnection && (this._wsConnection.on("connect", this._onConnect), this._wsConnection.on("message", this._onMessage), this._wsConnection.on("disconnect", this._onDisconnect), this._wsConnection.onReconnect(this._bindListeners))
                    }, this._onConnect = async () => {
                        if (null === this._wsConnection) return;
                        const e = this._wsConnection.getSessionId();
                        if (!e) return;
                        pt.logInfo("session_id: " + e);
                        const t = JSON.parse(e);
                        this._sessionid = t.session_id, this._sessionid && (await this._setAuthToken(), this._historyCreateSession(), this._switchTimezone(), this._requestHistoryData())
                    }, this._onDisconnect = () => {
                        !0 !== this._intentionalSocketClose || (this._intentionalSocketClose = !1)
                    }, this._onMessage = e => {
                        const t = JSON.parse(e),
                            n = t.m;
                        if ("critical_error" === n || "request_error" === n) {
                            let e = t.p[2] || t.p;
                            return pt.logError("request_error: " + e), "string" == typeof e ? (e = e.split(":")[0], this._onError({
                                error: "DefaultError",
                                msg: e
                            })) : this._onError({
                                error: "DefaultError"
                            }), void(this._setDataRequestInProgress && this._setDataRequestInProgress(!1))
                        }
                        "request_data" === n && (0, ot.unpackNonSeriesData)(t.p[2].ns.d).then((e => {
                            if (null === e || !0 === e.indexes_replace) return void this.loading.setValue(!1);
                            const t = JSON.stringify(e).slice(0, 500);
                            if (!e.data || 0 === Object.keys(e.data).length) return pt.logError("response: " + t), void this._onError({
                                error: "FetchError"
                            });
                            pt.logNormal("response: " + t), this._setData(e.data.report), this._closeWSConnection(), this._setDataRequestInProgress(!1), this.loading.setValue(!1)
                        }))
                    }, this._options = e, this._setDataRequestInProgress = t, pt.logInfo("host: " + this._wsHost), this._wsConnection = new st(this._wsHost, {
                        noReconnectAfterTimeout: !0,
                        dataRequestTimeout: 6e4
                    }), this._setDataRequestInProgress && this._setDataRequestInProgress(!0), this._bindListeners(), this.loading.setValue(!0)
                }
                destroy() {
                    super.destroy(), this._intentionalSocketClose = !0, null !== this._wsConnection && (this._sendRequest("history_delete_session", [this._sessionid]), this._wsConnection.disconnect())
                }
                _setAuthToken() {
                    return new Promise((e => {
                        this._authTokenManager || (this._authTokenManager = new lt.AuthToken), this._authTokenManager.get().then((t => {
                            this._sendRequest("set_auth_token", [t]), e()
                        }))
                    }))
                }
                _requestHistoryData() {
                    if (null === this._options.strategy) return;
                    const e = this._options.deepHistoryDateRange.dateRange.from.getTime(),
                        t = this._options.deepHistoryDateRange.dateRange.to.getTime(),
                        n = this._requestId++,
                        r = this._options.extendedSymbol,
                        i = this._options.strategy.getStudyName(),
                        a = {
                            from_to: {
                                from: Math.floor(e / 1e3),
                                to: Math.floor(t / 1e3)
                            }
                        },
                        s = k(this._options.strategy, void 0, {
                            patchSosInputs: !0
                        }),
                        o = this._options.resolution,
                        l = o.isRange() ? "1" : o.value(),
                        c = this._options.strategy.inputs({
                            patchSosInputs: !0
                        });
                    if (this._options.excludeTrades) {
                        this._options.strategy.metaInfo().inputs.some((e => "exclude_from_report" === e.name && (c[e.id].v = "LISTOFORDERS", !0)))
                    }
                    const u = {
                        session_id: this._sessionid,
                        request_id: n,
                        symbol: r,
                        resolution: l,
                        data_range: 0,
                        calc_range: JSON.stringify(a),
                        study: i,
                        study_inputs: JSON.stringify(c),
                        deps: JSON.stringify(s)
                    };
                    pt.logInfo("request_history_data: " + JSON.stringify(u)), this._sendRequest("request_history_data", [this._sessionid, n, r, l, 0, a, i, c, s])
                }
                _historyCreateSession() {
                    this._sendRequest("history_create_session", [this._sessionid])
                }
                _switchTimezone() {
                    this._options.resolution.isIntraday() && null !== this._options.timezone && this._options.timezone.name() !== De && this._sendRequest("switch_timezone", [this._sessionid, this._options.timezone.name()])
                }
                _onError(e, t) {
                    t || this._closeWSConnection(), this.loading.setValue(!1),
                        this.onError.fire(e)
                }
                _sendRequest(e, t) {
                    if (null === this._wsConnection) return;
                    const n = {
                            m: e,
                            p: t
                        },
                        r = JSON.stringify(n);
                    this._wsConnection.send(r)
                }
                _closeWSConnection() {
                    null !== this._wsConnection && (pt.logInfo("wsConnection.disconnect"), this._wsConnection.disconnect())
                }
            }

            function gt(e) {
                const t = 60 * e.dateRange.from.getTimezoneOffset() * 1e3;
                return { ...e,
                    dateRange: {
                        from: new Date(e.dateRange.from.getTime() - t),
                        to: new Date(e.dateRange.to.getTime() + 864e5 - t)
                    }
                }
            }
            var yt = n(83436),
                vt = n(481058),
                ft = n(689612),
                bt = n(894729),
                _t = n(583835),
                Ct = n(600284);

            function St(e) {
                const t = e.color;
                return i.createElement("span", {
                    className: s(Ct.colorBox, e.className),
                    style: {
                        backgroundColor: t
                    }
                })
            }
            var wt = n(996662);

            function kt(e) {
                const t = (0, _t.useLogos)(e.value);
                return i.createElement(i.Fragment, null, i.createElement(bt.SymbolLogo, {
                    className: wt.symbolLogo,
                    logoId: t.logoid,
                    baseCurrencyLogoId: t["base-currency-logoid"],
                    currencyLogoId: t["currency-logoid"],
                    size: "xsmall"
                }), i.createElement("span", null, e.value))
            }

            function Et(e) {
                return i.createElement("li", {
                    className: wt.elemContainer
                }, i.createElement("span", {
                    className: wt.elemTitle
                }, i.createElement("span", {
                    className: "apply-overflow-tooltip"
                }, e.title)), i.createElement("span", {
                    className: wt.elemData
                }, i.createElement(Tt, { ...e
                })))
            }

            function Tt(e) {
                return i.createElement(i.Fragment, null, e.cells.map(((e, t) => i.createElement(Dt, {
                    elem: e,
                    index: t,
                    key: t
                }))))
            }

            function Dt(e) {
                if ("color" === e.elem.type) return i.createElement(i.Fragment, {
                    key: e.index
                }, void 0 !== e.index && 0 !== e.index && i.createElement("div", null, ", "), i.createElement(St, {
                    color: e.elem.value,
                    className: wt.colorBox
                }));
                if ("symbol" === e.elem.type) return i.createElement(i.Fragment, {
                    key: e.index
                }, void 0 !== e.index && 0 !== e.index && i.createElement("div", null, ", "), i.createElement(kt, { ...e.elem
                }));
                const t = e.elem.title ? `${e.elem.title}: ` : "";
                return 0 === e.index ? i.createElement("div", {
                    key: e.index
                }, t, e.elem.value) : i.createElement("div", {
                    key: e.index
                }, ", ", t, e.elem.value)
            }

            function Rt(e) {
                const t = e.cells.length - 1;
                return i.createElement("span", {
                    className: wt.minimizedData
                }, e.cells.map(((e, n) => i.createElement(i.Fragment, {
                    key: (e.name || "") + e.value + n
                }, e.name && i.createElement("span", {
                    className: wt.minimizedName
                }, e.name, ": "), i.createElement("span", {
                    className: wt.minimizedValue
                }, e.value, n < t && ", ")))))
            }

            function It(e) {
                const {
                    title: t,
                    data: n,
                    toggleExpanded: r,
                    sectionType: a,
                    expanded: o
                } = e;
                return i.createElement("div", {
                    className: s(wt.section, o && wt.expanded)
                }, i.createElement("button", {
                    className: s(wt.container, o && wt.expanded),
                    onClick: function() {
                        r(a)
                    },
                    type: "button",
                    "aria-controls": (0, vt.createDomId)(e.title),
                    "aria-expanded": o
                }, i.createElement(yt.Icon, {
                    className: s(wt.arrow, o && wt.expanded),
                    icon: ft
                }), i.createElement("span", {
                    className: wt.title
                }, t), !o && i.createElement(Rt, {
                    cells: e.minimizedData
                })), o && i.createElement("ul", {
                    id: (0, vt.createDomId)(t),
                    className: wt.sectionList
                }, n.map(((e, t) => i.createElement(Et, { ...e,
                    key: t
                })))))
            }
            const xt = i.memo((e => {
                const {
                    data: t,
                    selectedSections: n,
                    setSelectedSections: r
                } = e;
                return i.createElement(i.Fragment, null, t.map((e => i.createElement(It, {
                    key: e.title,
                    expanded: n[e.sectionType],
                    toggleExpanded: r,
                    ...e
                }))))
            }));
            var Nt = n(7628),
                Vt = n(991826),
                Pt = n(662598),
                Ht = n(164280);
            const Bt = new Pt.DateFormatter("yyyy-MM-dd"),
                Ot = new Ht.TimeFormatter(Ht.hourMinuteFormat),
                Mt = new Ht.TimeFormatter(Ht.hourMinuteSecondFormat),
                Wt = new Ht.TimeFormatter(Ht.hourMinuteSecondMilisecFormat);

            function At(e, t) {
                return t ? t.offset_utc(e) : 0
            }

            function zt(e, t, n, r, i) {
                const a = At(e, r),
                    s = new Date(e + a),
                    o = s.getMilliseconds();
                if (!t) return Bt.format(s);
                const l = i ? " " : " ";
                return n ? o > 0 ? Bt.format(s) + l + Wt.format(s) : Bt.format(s) + l + Mt.format(s) : Bt.format(s) + l + Ot.format(s)
            }

            function Ft(e, t, n) {
                if (n) {
                    const n = At(e, t);
                    return new Date(e + n).getTime()
                } {
                    const t = new Date(e);
                    return (0, Ee.set_hms)(t, 0, 0, 0, 0), t.getTime()
                }
            }
            const Lt = {
                contracts: l.t(null, void 0, n(689469)),
                percentOfEquity: l.t(null, void 0, n(726939)),
                dateRange: l.t(null, void 0, n(66174)),
                symbolInfo: l.t(null, void 0, n(665986)),
                strategyProperties: l.t(null, void 0, n(153914)),
                strategyInputs: l.t(null, void 0, n(503076)),
                tradingRange: l.t(null, void 0, n(413837)),
                backtestingRange: l.t(null, void 0, n(866178)),
                symbol: l.t(null, void 0, n(589053)),
                timeframe: l.t(null, void 0, n(578396)),
                chartType: l.t(null, void 0, n(93440)),
                pointValue: l.t(null, void 0, n(13193)),
                currency: l.t(null, void 0, n(50985)),
                tickSize: l.t(null, void 0, n(672076)),
                precision: l.t(null, void 0, n(173947)),
                initialCapital: l.t(null, void 0, n(565534)),
                orderSize: l.t(null, void 0, n(854589)),
                pyramiding: l.t(null, void 0, n(293571)),
                comission: l.t(null, void 0, n(744521)),
                slippage: l.t(null, void 0, n(161206)),
                verifyPriceForLimitOrders: l.t(null, void 0, n(154009)),
                marginForLongPos: l.t(null, void 0, n(550681)),
                marginForShortPos: l.t(null, void 0, n(907475)),
                recalculate: l.t(null, void 0, n(563209)),
                afterOrderFilled: l.t(null, void 0, n(217713)),
                onEveryTick: l.t(null, void 0, n(321088)),
                onBarClose: l.t(null, void 0, n(252965)),
                useBarMagnifier: l.t(null, void 0, n(132528)),
                backtestingPrecision: l.t(null, void 0, n(80107)),
                on: l.t(null, void 0, n(350467)),
                off: l.t(null, void 0, n(723618))
            };
            var qt = n(724377),
                Kt = n(957376),
                Ut = n(381720),
                Jt = n(108184),
                $t = n(546399);
            class jt {
                constructor(e, t, n) {
                    this._strategy = e, this._timezone = n;
                    const r = new C.MetaInfoHelper(e.metaInfo());
                    this._strategyInputs = r.getUserEditableInputs(), this._strategyInputsProperties = e.properties().childs().inputs, this._isIntraday = t.isIntraday(), this._isSeconds = t.isSeconds()
                }
                getStrategyInputs() {
                    if (0 === this._strategyInputs.length) return {
                        title: Lt.strategyInputs,
                        sectionType: "strategy_inputs",
                        minimizedData: [],
                        data: []
                    };
                    let e = [];
                    return (0, $t.getInputGroups)(this._strategyInputs).forEach((t => {
                        e = e.concat(this._getInputGroupValue(t))
                    })), {
                        title: Lt.strategyInputs,
                        sectionType: "strategy_inputs",
                        minimizedData: e.reduce(((e, t) => t.short && t.short.length ? e.concat(t.short) : e), []),
                        data: e
                    }
                }
                _getSingleInputData(e) {
                    var t;
                    if ("color" === e.type) {
                        let t = this._strategyInputsProperties.childs()[e.id].value();
                        const n = (0, qt.tryParseRgb)(t);
                        return n && (t = (0, qt.rgbToHexString)(n)), {
                            title: e.name,
                            type: "color",
                            value: t
                        }
                    }
                    if ("time" === e.type) {
                        const t = this._strategyInputsProperties.childs()[e.id].value();
                        return {
                            title: e.name,
                            value: zt(t, this._isIntraday, this._isSeconds, this._timezone, !0)
                        }
                    }
                    if ("session" === e.type) {
                        const t = this._strategyInputsProperties.childs()[e.id].value(),
                            [n, r] = (0, Kt.parseValue)(t);
                        return {
                            title: e.name,
                            value: `${n} — ${r}`
                        }
                    }
                    if ("bool" === e.type) {
                        const t = this._strategyInputsProperties.childs()[e.id].value();
                        return {
                            title: e.name,
                            value: t ? Lt.on : Lt.off
                        }
                    }
                    if ("symbol" === e.type) {
                        const t = this._strategyInputsProperties.childs()[e.id].value();
                        return {
                            title: e.name,
                            value: (0, Ut.getInternalSymbolName)(t, this._strategy)
                        }
                    }
                    if (Jt.StudyMetaInfo.isSourceInput(e)) {
                        const n = this._strategyInputsProperties.childs()[e.id].value(),
                            r = e.options;
                        return Array.isArray(r) && -1 !== r.indexOf(n) ? {
                            title: e.name,
                            value: n
                        } : {
                            title: e.name,
                            value: (null === (t = this._strategy.parentSourceForInput(n)) || void 0 === t ? void 0 : t.name()) || ""
                        }
                    }
                    return {
                        title: e.name,
                        value: this._strategyInputsProperties.childs()[e.id].value()
                    }
                }
                _getInlineInputRows(e) {
                    const t = [];
                    return e.children.forEach((e => {
                        const n = this._getSingleInputData(e);
                        if (null !== n)
                            if (n.title) t.push({
                                title: n.title,
                                short: [{
                                    name: n.title,
                                    value: n.value
                                }],
                                cells: [{
                                    type: n.type,
                                    value: n.value
                                }]
                            });
                            else if (t.length) {
                            const e = t[t.length - 1];
                            e.cells.push({
                                value: n.value,
                                type: n.type
                            }), e.short || (e.short = []), e.short.push({
                                value: n.value
                            })
                        }
                    })), t
                }
                _getInputGroupValue(e, t = []) {
                    const n = [];
                    if ((0, $t.isInputInlines)(e)) {
                        const n = this._getInlineInputRows(e);
                        n.length && t.push(...n)
                    } else if ((0, $t.isGroup)(e)) e.children.forEach((e => {
                        if ((0, $t.isGroup)(e)) return void n.push(e);
                        const r = this._getSingleInputData(e);
                        null !== r && t.push({
                            title: r.title,
                            short: [{
                                name: r.title,
                                value: r.value
                            }],
                            cells: [{
                                type: r.type,
                                value: r.value
                            }]
                        })
                    })), n.forEach((e => {
                        this._getInputGroupValue(e, t)
                    }));
                    else {
                        const n = this._getSingleInputData(e);
                        null !== n && t.push({
                            title: n.title,
                            short: [{
                                name: n.title,
                                value: n.value
                            }],
                            cells: [{
                                type: n.type,
                                value: n.value
                            }]
                        })
                    }
                    return t
                }
            }

            function Gt(e, t) {
                const r = e.strategy;
                if (null === t || null === r) return [];
                const i = new C.MetaInfoHelper(r.metaInfo()),
                    a = i.getStrategyProperties(),
                    s = i.getUserEditableInputs(),
                    o = r.properties().childs().inputs,
                    c = [];
                if (t.settings && c.push(function(e, t) {
                        const n = t.resolution.isIntraday(),
                            r = t.resolution.isSeconds(),
                            i = null === e.trade.from ? "" : zt(e.trade.from, n, r, t.timezone, !0),
                            a = null === e.trade.to ? "" : zt(e.trade.to, n, r, t.timezone, !0),
                            s = null === e.backtest.from ? "" : zt(e.backtest.from, n, r, t.timezone, !0),
                            o = null === e.backtest.to ? "" : zt(e.backtest.to, n, r, t.timezone, !0),
                            l = "" === i && "" === a,
                            c = l ? " — " : `${i} — ${a}`,
                            u = "" === s && "" === o,
                            d = u ? " — " : `${s} — ${o}`,
                            h = [];
                        l || h.push({
                            name: Lt.tradingRange,
                            value: c
                        });
                        u || h.push({
                            name: Lt.backtestingRange,
                            value: d
                        });
                        return {
                            title: Lt.dateRange,
                            sectionType: "date_range",
                            minimizedData: h,
                            data: [{
                                title: Lt.tradingRange,
                                cells: [{
                                    value: c
                                }]
                            }, {
                                title: Lt.backtestingRange,
                                cells: [{
                                    value: d
                                }]
                            }]
                        }
                    }(t.settings.dateRange, e)), c.push(function(e) {
                        const t = (0, Nt.decodeExtendedSymbol)(e.symbol).symbol,
                            r = "string" == typeof t ? t : t.symbol,
                            i = (0, Vt.getTranslatedResolutionModel)(e.resolution.value()).hint,
                            a = [{
                                name: Lt.symbol,
                                value: r
                            }, {
                                name: Lt.timeframe,
                                value: i
                            }, {
                                name: Lt.chartType,
                                value: e.chartStyle
                            }];
                        e.chartCurrency && a.push({
                            name: Lt.currency,
                            value: e.chartCurrency
                        });
                        e.minTick && a.push({
                            name: Lt.tickSize,
                            value: e.minTick
                        });
                        const s = e.minTickProperty ? function(e) {
                            const t = e.value();
                            if (!t) return null;
                            if ("default" === t) return l.t(null, void 0, n(204329));
                            const r = t.split(",");
                            return `${r[1]}/${r[0]}`
                        }(e.minTickProperty) : null;
                        s && a.push({
                            name: Lt.precision,
                            value: s
                        });
                        const o = {
                            title: Lt.symbolInfo,
                            sectionType: "chart_settings",
                            minimizedData: a,
                            data: [{
                                title: Lt.symbol,
                                cells: [{
                                    type: "symbol",
                                    value: r
                                }]
                            }, {
                                title: Lt.timeframe,
                                cells: [{
                                    value: i
                                }]
                            }, {
                                title: Lt.chartType,
                                cells: [{
                                    value: e.chartStyle
                                }]
                            }, {
                                title: Lt.pointValue,
                                cells: [{
                                    value: e.pointValue
                                }]
                            }]
                        };
                        e.chartCurrency && o.data.push({
                            title: Lt.currency,
                            cells: [{
                                value: e.chartCurrency
                            }]
                        });
                        e.minTick && o.data.push({
                            title: Lt.tickSize,
                            cells: [{
                                value: e.minTick
                            }]
                        });
                        s && o.data.push({
                            title: Lt.precision,
                            cells: [{
                                value: s
                            }]
                        });
                        return o
                    }(e)), s.length > 0) {
                    const t = new jt(r, e.resolution, e.timezone);
                    c.push(t.getStrategyInputs())
                }
                return c.push(function(e, t, r, i) {
                    let a = i.childs()[r.currency.id].value();
                    "NONE" === a && (a = t || "");
                    const s = i.childs()[r.initial_capital.id].value() + " " + a,
                        o = i.childs()[r.default_qty_type.id].value(),
                        c = i.childs()[r.default_qty_value.id].value() + function(e, t) {
                            switch (e) {
                                case "fixed":
                                    return " " + Lt.contracts;
                                case "cash_per_order":
                                    return " " + t;
                                case "percent_of_equity":
                                    return Lt.percentOfEquity
                            }
                        }(o, a),
                        u = i.childs()[r.pyramiding.id].value() + " " + l.t(null, {
                            context: "Pyramiding: count orders"
                        }, n(501256)),
                        d = i.childs()[r.commission_type.id].value(),
                        h = i.childs()[r.commission_value.id].value() + function(e, t) {
                            switch (e) {
                                case "percent":
                                    return "%";
                                case "cash_per_order":
                                    return " " + l.t(null, {
                                        replace: {
                                            currency: t
                                        }
                                    }, n(791272));
                                case "cash_per_contract":
                                    return " " + l.t(null, {
                                        replace: {
                                            currency: t
                                        }
                                    }, n(547896))
                            }
                        }(d, a),
                        p = i.childs()[r.slippage.id].value() + " " + l.t(null, {
                            context: "slippage ... ticks"
                        }, n(461379)),
                        m = [{
                            name: Lt.initialCapital,
                            value: s
                        }, {
                            name: Lt.orderSize,
                            value: c
                        }, {
                            name: Lt.pyramiding,
                            value: u
                        }, {
                            name: Lt.comission,
                            value: h
                        }, {
                            name: Lt.slippage,
                            value: p
                        }],
                        g = [{
                            title: Lt.initialCapital,
                            cells: [{
                                value: s
                            }]
                        }, {
                            title: Lt.orderSize,
                            cells: [{
                                value: c
                            }]
                        }, {
                            title: Lt.pyramiding,
                            cells: [{
                                value: u
                            }]
                        }, {
                            title: Lt.comission,
                            cells: [{
                                value: h
                            }]
                        }, {
                            title: Lt.verifyPriceForLimitOrders,
                            cells: [{
                                value: i.childs()[r.backtest_fill_limits_assumption.id].value() + " " + l.t(null, {
                                    context: "slippage ... ticks"
                                }, n(461379))
                            }]
                        }, {
                            title: Lt.slippage,
                            cells: [{
                                value: p
                            }]
                        }];
                    r.margin_long && r.margin_short && (g.push({
                        title: Lt.marginForLongPos,
                        cells: [{
                            value: `${i.childs()[r.margin_long.id].value()}%`
                        }]
                    }), g.push({
                        title: Lt.marginForShortPos,
                        cells: [{
                            value: `${i.childs()[r.margin_short.id].value()}%`
                        }]
                    }));
                    g.push({
                        title: `${Lt.recalculate} ${Lt.afterOrderFilled}`,
                        cells: [{
                            value: i.childs()[r.calc_on_order_fills.id].value() ? Lt.on : Lt.off
                        }]
                    }), g.push({
                        title: `${Lt.recalculate} ${Lt.onEveryTick}`,
                        cells: [{
                            value: i.childs()[r.calc_on_every_tick.id].value() ? Lt.on : Lt.off
                        }]
                    }), void 0 !== r.process_orders_on_close && g.push({
                        title: `${Lt.recalculate} ${Lt.onBarClose}`,
                        cells: [{
                            value: i.childs()[r.process_orders_on_close.id].value() ? Lt.on : Lt.off
                        }]
                    });
                    void 0 !== r.use_bar_magnifier && g.push({
                        title: `${Lt.backtestingPrecision}. ${Lt.useBarMagnifier}`,
                        cells: [{
                            value: i.childs()[r.use_bar_magnifier.id].value() ? Lt.on : Lt.off
                        }]
                    });
                    return {
                        title: Lt.strategyProperties,
                        sectionType: "strategy_properties",
                        minimizedData: m,
                        data: g
                    }
                }(0, e.chartCurrency, a, o)), c
            }
            var Yt = n(801397);

            function Zt() {
                return i.createElement(H.EmptyStateBlock, {
                    className: Yt.container,
                    iconClass: Yt.emptyStateIcon,
                    text: l.t(null, void 0, n(180526))
                })
            }
            var Qt = n(536636);

            function Xt(e) {
                const t = Gt((0, i.useContext)(X), e.data);
                return t.length ? i.createElement("div", {
                    className: Qt.reportViewContainer
                }, i.createElement(xt, { ...e,
                    data: t
                })) : i.createElement(Zt, null)
            }
            var en = n(763532),
                tn = n(838126);

            function nn(e) {
                return e ? " " + e : ""
            }

            function rn(e, t, n) {
                const r = new Date;
                n = n.replace(/\s/g, "_");
                const i = `${t=t.replace(/\s/g,"_")}_${n}_${tn.dateFormatFunctions["yyyy-MM-dd"](r,!0)}.csv`;
                (0, en.saveTextFile)(i, e, "text/csv; charset=utf-8")
            }
            class an {
                constructor(e, t) {
                    this._strategyName = e, this._currentData = t
                }
                renderCSVReport() {
                    if (this._currentData) {
                        const e = this._createPropertiesDataForCSV(this._currentData);
                        rn(this._getPropertiesDataCSVString(e), this._strategyName, "Properties")
                    }
                }
                _getPropertiesDataCSVString(e) {
                    return [
                        [(0, en.escapeCSVValue)(l.t(null, void 0, n(767369))), (0, en.escapeCSVValue)(l.t(null, void 0, n(660187)))].join(","), ...Object.values(e).map((e => {
                            const t = e.cells.reduce(((e, t) => e + t.value), "");
                            return [(0, en.escapeCSVValue)(e.title), (0, en.escapeCSVValue)(t)].join(",")
                        }))
                    ].join("\r\n")
                }
                _createPropertiesDataForCSV(e) {
                    const t = {};
                    let n = 0;
                    for (let r = 0; r < e.length; r++) {
                        const i = e[r].data;
                        for (let e = 0; e < i.length; e++)
                            if (i[e].cells.length > 1) {
                                const r = i[e].cells;
                                for (let a = 0; a < r.length; a++) {
                                    const s = {
                                        title: 0 === a ? i[e].title : "",
                                        cells: Array(r[a])
                                    };
                                    t[n] = s, n++
                                }
                            } else t[n] = i[e], n++
                    }
                    return t
                }
            }

            function sn(e) {
                return 0 !== e
            }

            function on(e) {
                return e < 0
            }
            const ln = {
                drawdown: {
                    _gaEvent: "Overview",
                    settings: {
                        title: l.t(null, void 0, n(37260)),
                        miniChartMinHeight: 78,
                        overviewPerformanceFields: ["netProfit", "totalTrades", "percentProfitable", "profitFactor", "maxStrategyDrawDown", "avgTrade", "avgBarsInTrade"]
                    }
                },
                performance: {
                    _gaEvent: "Performance Summary",
                    settings: {
                        title: l.t(null, void 0, n(158496)),
                        fields: {
                            netProfit: {
                                title: l.t(null, void 0, n(975990)),
                                desc: l.t(null, void 0, n(542422)),
                                unit: "currency",
                                isNegative: on,
                                solutionId: 43000681684
                            },
                            grossProfit: {
                                title: l.t(null, void 0, n(366612)),
                                unit: "currency",
                                solutionId: 43000681686
                            },
                            grossLoss: {
                                title: l.t(null, void 0, n(747872)),
                                unit: "currency",
                                isNegative: sn,
                                solutionId: 43000681688
                            },
                            maxStrategyRunUp: {
                                title: l.t(null, void 0, n(486036)),
                                unit: "currency",
                                isNegative: sn,
                                solutionId: 43000682585
                            },
                            maxStrategyDrawDown: {
                                title: l.t(null, void 0, n(95059)),
                                desc: l.t(null, void 0, n(215468)),
                                unit: "currency",
                                isAlwaysNegative: () => !0,
                                solutionId: 43000681690
                            },
                            buyHoldReturn: {
                                title: l.t(null, void 0, n(60438)),
                                unit: "currency",
                                solutionId: 43000681691
                            },
                            sharpeRatio: {
                                title: l.t(null, void 0, n(927307)),
                                solutionId: 43000681694
                            },
                            sortinoRatio: {
                                title: l.t(null, void 0, n(348882)),
                                solutionId: 43000681697
                            },
                            profitFactor: {
                                title: l.t(null, void 0, n(798994)),
                                desc: l.t(null, void 0, n(932254)),
                                isNegative: e => e < 1,
                                solutionId: 43000681698
                            },
                            maxContractsHeld: {
                                title: l.t(null, void 0, n(887127)),
                                unit: "pc",
                                solutionId: 43000681700
                            },
                            openPL: {
                                title: l.t(null, void 0, n(792941)),
                                unit: "currency",
                                solutionId: 43000681701
                            },
                            commissionPaid: {
                                title: l.t(null, void 0, n(971800)),
                                unit: "currency",
                                solutionId: 43000681703
                            },
                            totalTrades: {
                                title: l.t(null, void 0, n(923166)),
                                desc: l.t(null, void 0, n(721035)),
                                unit: "pc",
                                isNegative: on,
                                solutionId: 43000681704
                            },
                            totalOpenTrades: {
                                title: l.t(null, void 0, n(394734)),
                                unit: "pc",
                                solutionId: 43000681711
                            },
                            numberOfWiningTrades: {
                                title: l.t(null, void 0, n(990826)),
                                unit: "pc",
                                solutionId: 43000681712
                            },
                            numberOfLosingTrades: {
                                title: l.t(null, void 0, n(903799)),
                                unit: "pc",
                                solutionId: 43000681713
                            },
                            percentProfitable: {
                                title: l.t(null, void 0, n(990298)),
                                desc: l.t(null, void 0, n(921608)),
                                unit: "percent",
                                isNegative: on,
                                solutionId: 43000681714
                            },
                            avgTrade: {
                                title: l.t(null, void 0, n(857761)),
                                desc: l.t(null, void 0, n(537736)),
                                unit: "currency",
                                isNegative: on,
                                solutionId: 43000681715
                            },
                            avgWinTrade: {
                                title: l.t(null, void 0, n(39940)),
                                unit: "currency",
                                solutionId: 43000681717
                            },
                            avgLosTrade: {
                                title: l.t(null, void 0, n(157209)),
                                unit: "currency",
                                isNegative: sn,
                                solutionId: 43000681718
                            },
                            ratioAvgWinAvgLoss: {
                                title: l.t(null, void 0, n(59261)),
                                solutionId: 43000681719
                            },
                            largestWinTrade: {
                                title: l.t(null, void 0, n(368480)),
                                unit: "currency",
                                solutionId: 43000681720
                            },
                            largestLosTrade: {
                                title: l.t(null, void 0, n(814866)),
                                unit: "currency",
                                isNegative: sn,
                                solutionId: 43000681722
                            },
                            avgBarsInTrade: {
                                title: l.t(null, void 0, n(206933)),
                                desc: l.t(null, void 0, n(158181)),
                                unit: "pc",
                                solutionId: 43000681723
                            },
                            avgBarsInWinTrade: {
                                title: l.t(null, void 0, n(801361)),
                                unit: "pc",
                                solutionId: 43000681725
                            },
                            avgBarsInLossTrade: {
                                title: l.t(null, void 0, n(994499)),
                                unit: "pc",
                                solutionId: 43000681726
                            },
                            marginCalls: {
                                title: l.t(null, void 0, n(709048)),
                                unit: "pc",
                                solutionId: 43000681727
                            }
                        }
                    }
                },
                trades: {
                    _gaEvent: "List of Trades",
                    settings: {
                        title: l.t(null, void 0, n(61401))
                    }
                },
                properties: {
                    _gaEvent: "Properties",
                    settings: {
                        title: l.t(null, void 0, n(873369))
                    }
                }
            };
            var cn = n(768038);

            function un(e) {
                let {
                    value: t
                } = e;
                if (null == t) return "";
                const {
                    unit: r,
                    dataCurrency: i,
                    chartCurrency: a,
                    formatter: s = null,
                    isCSVReport: o = !1
                } = e;
                let c = l.t(null, void 0, n(343088)),
                    u = "",
                    d = 1;
                switch (t = "number" == typeof t ? t : parseFloat(t), r) {
                    case "series":
                        if (c = s ? s.format(t) : t.toString(), o) break;
                        a && (u = " " + a);
                        break;
                    case "currency":
                        if (c = t < Math.pow(10, -2) ? (() => {
                                for (let e = 2; e <= 8; e++) {
                                    const n = dn(t, e);
                                    if (0 !== n) return n.toFixed(e)
                                }
                                return "0"
                            })() : dn(t, 2).toFixed(2), o) break;
                        let e = parseFloat(c);
                        if (d = Math.sign(e), -1 === d && (e *= d), c = e.toFixed(2), i) {
                            u = "none" === i.toLowerCase() ? "" : " " + i
                        } else u = " ?";
                        break;
                    case "percent":
                        let n = dn(100 * t, 2);
                        if (c = n.toString(), o) break;
                        d = Math.sign(n), -1 === d && (n *= d), c = n.toString(), u = "%";
                        break;
                    case "pc":
                        c = Math.round(t).toString();
                        break;
                    default:
                        let r = dn(t, 3);
                        if (c = r.toString(), o) break;
                        d = Math.sign(r), -1 === d && (r *= d), c = r.toString()
                }
                o || (c = function(e) {
                    const t = ".",
                        n = e.split(t);
                    let r = n[0];
                    const i = n[1];
                    if (r.length <= 3) return n.join(".");
                    const a = " ",
                        s = [];
                    for (; r.length > 3;) s.push(r.slice(-3)), r = r.slice(0, r.length - 3);
                    if (s.reverse(), i) return r.concat(a, s.join(a), t, i);
                    return r.concat(a, s.join(a))
                }(c));
                let h = c + u;
                return -1 === d && (h = "−" + h), (0, cn.forceLTRStr)(h)
            }

            function dn(e, t) {
                const n = parseFloat(Math.pow(10, t || 0).toFixed(t < 0 ? -t : 0));
                return Math.round(e * n) / n
            }
            const hn = ["all", "long", "short"],
                pn = ln.performance.settings.fields;
            class mn {
                constructor(e, t, n, r, i) {
                    this._performanceData = e, this._dataCurrency = r, this._chartCurrency = n,
                        this._formatter = i, this._strategyName = t
                }
                renderCSVReport() {
                    const e = this._createPerformanceDataForCSV();
                    rn(this._getPerformanceDataCSVString(e, this._dataCurrency), this._strategyName, "Performance Summary")
                }
                _createPerformanceDataForCSV() {
                    const e = Object.keys(pn),
                        t = {};
                    let n = {};
                    for (let r = 0; r < e.length; r++) {
                        const i = e[r],
                            a = Je(i);
                        let s = !1,
                            o = pn[i].title || "";
                        n.title = o;
                        for (let e = 0; e < hn.length; e++) {
                            const o = hn[e],
                                l = Ue(this._performanceData[o][i], this._performanceData[o][a]);
                            void 0 !== l.valueNumber && (n[`${hn[e]}`] = this._makeCSVReportCellValue(i, l.valueNumber, void 0), void 0 !== l.percentNumber && (n[`${hn[e]}Percent`] = this._makeCSVReportCellValue(i, l.valueNumber, l.percentNumber)), s = !0), 2 === e && (t[`${r}`] = n, n = {})
                        }
                        if (!s) {
                            o = pn[i].title || "";
                            const e = Ue(this._performanceData[i], this._performanceData[a]),
                                s = this._makeCSVReportCellValue(i, e.valueNumber, void 0);
                            void 0 !== e.percentNumber && (n[`${hn[0]}Percent`] = this._makeCSVReportCellValue(i, e.valueNumber, e.percentNumber)), n.title = o, n[`${hn[0]}`] = s, t[`${r}`] = n, n = {}
                        }
                    }
                    return t
                }
                _getPerformanceDataCSVString(e, t) {
                    const r = nn(t),
                        i = nn("%");
                    return [
                        [(0, en.escapeCSVValue)(""), (0, en.escapeCSVValue)(l.t(null, void 0, n(695271)) + `${r}`), (0, en.escapeCSVValue)(l.t(null, void 0, n(695271)) + `${i}`), (0, en.escapeCSVValue)(l.t(null, void 0, n(273064)) + `${r}`), (0, en.escapeCSVValue)(l.t(null, void 0, n(273064)) + `${i}`), (0, en.escapeCSVValue)(l.t(null, void 0, n(777851)) + `${r}`), (0, en.escapeCSVValue)(l.t(null, void 0, n(777851)) + `${i}`)].join(","), ...Object.values(e).map((e => [(0, en.escapeCSVValue)(e.title ? e.title : ""), (0, en.escapeCSVValue)(e.all ? e.all : ""), (0, en.escapeCSVValue)(e.allPercent ? e.allPercent : ""), (0, en.escapeCSVValue)(e.long ? e.long : ""), (0, en.escapeCSVValue)(e.longPercent ? e.longPercent : ""), (0, en.escapeCSVValue)(e.short ? e.short : ""), (0, en.escapeCSVValue)(e.shortPercent ? e.shortPercent : "")].join(",")))
                    ].join("\r\n")
                }
                _makeCSVReportCellValue(e, t, r) {
                    if (null == t) return l.t(null, void 0, n(343088));
                    const i = pn[e];
                    return un(null == r ? {
                        value: t,
                        unit: i.unit,
                        dataCurrency: this._dataCurrency,
                        chartCurrency: this._chartCurrency,
                        formatter: this._formatter,
                        isCSVReport: !0
                    } : {
                        value: r,
                        unit: "percent",
                        dataCurrency: this._dataCurrency,
                        chartCurrency: this._chartCurrency,
                        formatter: this._formatter,
                        isCSVReport: !0
                    })
                }
            }
            const gn = ["x", "e"];
            class yn {
                constructor(e, t, n, r, i, a, s) {
                    this._tradesData = e, this._strategyName = t, this._timezone = n, this._isSeconds = r.isSeconds(), this._isIntraday = r.isIntraday(), this._chartCurrency = i, this._formatter = s, this._dataCurrency = a
                }
                async renderCSVReport() {
                    const e = [];
                    let t = 0;
                    for (; t < this._tradesData.length;) await new Promise((n => setTimeout((() => {
                        this._createTradesDataForCSV(this._tradesData, t, t + 100, e), t += 100, n()
                    }), 0)));
                    if (e.length) {
                        rn(this._getTradesDataCSVString(e, this._dataCurrency), this._strategyName, "List of Trades")
                    }
                }
                _createTradesDataForCSV(e, t, n, r) {
                    const i = Math.min(n, e.length);
                    for (let n = t; n < i; n++) {
                        const t = this._createTradesDataItem(e[n], e.length - n);
                        for (const e of t) r.push(e)
                    }
                }
                _getTradesDataCSVString(e, t) {
                    const r = nn(t),
                        i = nn(this._chartCurrency),
                        a = nn("%");
                    return [
                        [(0, en.escapeCSVValue)(l.t(null, void 0, n(889516))), (0,
                            en.escapeCSVValue)(l.t(null, void 0, n(158416))), (0, en.escapeCSVValue)(l.t(null, void 0, n(397251))), (0, en.escapeCSVValue)(l.t(null, void 0, n(59536))), (0, en.escapeCSVValue)(l.t(null, void 0, n(25684)) + `${i}`), (0, en.escapeCSVValue)(l.t(null, void 0, n(689469))), (0, en.escapeCSVValue)(l.t(null, void 0, n(486323)) + `${r}`), (0, en.escapeCSVValue)(l.t(null, void 0, n(486323)) + `${a}`), (0, en.escapeCSVValue)(l.t(null, void 0, n(806557)) + `${r}`), (0, en.escapeCSVValue)(l.t(null, void 0, n(806557)) + `${a}`), (0, en.escapeCSVValue)(l.t(null, void 0, n(831555)) + `${r}`), (0, en.escapeCSVValue)(l.t(null, void 0, n(831555)) + `${a}`), (0, en.escapeCSVValue)(l.t(null, void 0, n(424488)) + `${r}`), (0, en.escapeCSVValue)(l.t(null, void 0, n(424488)) + `${a}`)].join(","), ...e.map((e => [(0, en.escapeCSVValue)(e.trade ? e.trade : ""), (0, en.escapeCSVValue)(e.type ? e.type : ""), (0, en.escapeCSVValue)(e.signal ? e.signal : ""), (0, en.escapeCSVValue)(e.date ? e.date : ""), (0, en.escapeCSVValue)(e.price ? e.price : ""), (0, en.escapeCSVValue)(e.contracts ? e.contracts : ""), (0, en.escapeCSVValue)(e.profit ? e.profit : ""), (0, en.escapeCSVValue)(e.profitPercent ? e.profitPercent : ""), (0, en.escapeCSVValue)(e.cumProfit ? e.cumProfit : ""), (0, en.escapeCSVValue)(e.cumProfitPercent ? e.cumProfitPercent : ""), (0, en.escapeCSVValue)(e.runUp ? e.runUp : ""), (0, en.escapeCSVValue)(e.runUpPercent ? e.runUpPercent : ""), (0, en.escapeCSVValue)(e.drawdown ? e.drawdown : ""), (0, en.escapeCSVValue)(e.drawdownPercent ? e.drawdownPercent : "")].join(",")))
                    ].join("\r\n")
                }
                _makeTradeProfitCellCSVReportImpl(e, t, n) {
                    if (!e && void 0 !== t[n] && "number" == typeof t[n].v) {
                        const e = un({
                            value: t[n].v,
                            unit: "currency",
                            dataCurrency: this._dataCurrency,
                            chartCurrency: this._chartCurrency,
                            formatter: this._formatter,
                            isCSVReport: !0
                        });
                        return "number" == typeof t[n].p ? {
                            value: e,
                            percent: un({
                                value: t[n].p,
                                unit: "percent",
                                dataCurrency: this._dataCurrency,
                                chartCurrency: this._chartCurrency,
                                formatter: this._formatter,
                                isCSVReport: !0
                            })
                        } : e
                    }
                    return ""
                }
                _getOrderDate(e) {
                    return zt(e, this._isIntraday || !1, this._isSeconds || !1, this._timezone, !0)
                }
                _createTradesDataItem(e, t) {
                    const r = new Array(gn.length);
                    let i = !1;
                    const a = !e.x.c;
                    for (let s = 0; s < gn.length; s++) {
                        const o = gn[s],
                            c = !e[o].c;
                        !i && c && (i = !0);
                        const u = this._makeTradeProfitCellCSVReportImpl(i, e, "tp"),
                            d = this._makeTradeProfitCellCSVReportImpl(i, e, "cp"),
                            h = this._makeTradeProfitCellCSVReportImpl(i, e, "rn"),
                            p = this._makeTradeProfitCellCSVReportImpl(i, e, "dd");
                        r[s] = {
                            trade: t.toString(),
                            type: ke(e[o].tp),
                            signal: c && l.t(null, void 0, n(539280)) || e[o].c,
                            date: !c && e[o].tm && this._getOrderDate(e[o].tm) || "",
                            price: !c && e[o].p && un({
                                value: e[o].p,
                                unit: "series",
                                dataCurrency: this._dataCurrency,
                                chartCurrency: this._chartCurrency,
                                formatter: this._formatter,
                                isCSVReport: !0
                            }) || "",
                            contracts: !a && !i && e.q.toString() || "",
                            profit: !a && u.value || "",
                            profitPercent: !a && u.percent || "",
                            cumProfit: !a && d.value || "",
                            cumProfitPercent: !a && d.percent || "",
                            runUp: !a && h.value || "",
                            runUpPercent: !a && h.percent || "",
                            drawdown: !a && p.value || "",
                            drawdownPercent: !a && p.percent || ""
                        }
                    }
                    return r
                }
            }

            function vn(e) {
                const {
                    strategy: t,
                    activeReportTab: n,
                    symbol: r,
                    resolution: a,
                    chartStyle: s,
                    pointValue: o,
                    chartCurrency: l,
                    minTick: c,
                    timezone: u,
                    onCSVReportRequest: d,
                    hidden: h,
                    reportsData: p
                } = e, m = (0, i.useRef)(e);
                m.current = e, (0, i.useEffect)((() => {
                    function t() {
                        var t;
                        const {
                            setCSVReportProgress: n
                        } = m.current, r = m.current.strategy, i = m.current.reportsData, s = m.current.activeReportTab;
                        if (null === r || !i) return;
                        const o = r.metaInfo().description,
                            l = i.currency,
                            c = m.current.chartCurrency,
                            d = m.current.formatter;
                        switch (s) {
                            case "Overview":
                                break;
                            case "Properties":
                                n(!0);
                                const r = Gt(e, i);
                                new an(o, r).renderCSVReport(), n(!1);
                                break;
                            case "Performance Summary":
                                const s = i.performance;
                                if (!l || !s) return;
                                n(!0), new mn(s, o, c, l, d).renderCSVReport(), n(!1);
                                break;
                            case "List of Trades":
                                if (Ke(i) && l) {
                                    n(!0);
                                    let e = (null === (t = null == i ? void 0 : i.trades) || void 0 === t ? void 0 : t.concat()) || [];
                                    if (!e.length) return;
                                    e = e.reverse(), new yn(e, o, u, a, c, l, d).renderCSVReport().then((() => {
                                        n(!1)
                                    }))
                                }
                        }
                    }
                    if (!h) return d.subscribe(null, t), () => {
                        d.unsubscribe(null, t)
                    }
                }), [t, n, r, a, s, o, l, c, u, d, h, p])
            }
            var fn = n(880973);

            function bn(e) {
                const t = (0, c.useWatchedValueReadonly)({
                    watchedValue: e.height
                });
                return i.createElement(i.Fragment, null, i.createElement("div", {
                    className: fn.wrapper
                }, i.createElement(H.EmptyStateBlock, {
                    iconClass: t > 300 ? fn.emptyStateIcon : void 0,
                    title: l.t(null, void 0, n(246992)),
                    text: l.t(null, void 0, n(631425))
                })))
            }
            var _n = n(62802);
            const Cn = {
                drawDown: !0,
                equity: !0,
                buyHold: !1
            };
            var Sn = n(311857),
                wn = n(314967),
                kn = n(114123),
                En = n(909740),
                Tn = n(61499),
                Dn = n(623331);
            const Rn = (e, t) => Pn(e.addHistogramSeries(t)),
                In = (e, t) => Pn(e.addBaselineSeries(t)),
                xn = (e, t) => Pn(e.addLineSeries(t));

            function Nn(e) {
                let t = -1 / 0;
                for (const n of null != e ? e : []) t = Math.max(t, n.value);
                return t
            }
            const Vn = {
                below: 10,
                above: 10
            };

            function Pn(e) {
                let t = .01;
                return e.applyOptions({
                    autoscaleInfoProvider: n => {
                        const r = n();
                        if (null === r) return r;
                        r.margins = Vn;
                        const i = function(e) {
                            const t = e.maxValue - e.minValue;
                            if (0 === t || t >= .1) return .01;
                            const n = Math.floor(-Math.log10(t)) + 1;
                            return Math.min(.01, 1 / Math.pow(10, n))
                        }(r.priceRange);
                        return i !== t && (t = i, e.applyOptions({
                            priceFormat: {
                                type: "price",
                                minMove: i,
                                precision: -Math.log10(i)
                            }
                        })), r
                    }
                }), e
            }

            function Hn(e, t) {
                if (!Array.isArray(e)) return [];
                const n = t ? -1 : 1;
                return e.map(((e, t) => ({
                    value: e * n,
                    time: Date.UTC(1970 + t + 1, 1) / 1e3
                })))
            }
            const Bn = {
                    textColor: (0, wn.getHexColorByName)("color-cold-gray-900"),
                    drawDown: {
                        color: (0, kn.applyAlpha)("#9013FE", .25)
                    },
                    equity: {
                        topFillColor1: (0, kn.applyAlpha)((0, wn.getHexColorByName)("color-minty-green-400"), .31),
                        topFillColor2: (0, kn.applyAlpha)((0, wn.getHexColorByName)("color-minty-green-400"), .1),
                        topLineColor: (0, wn.getHexColorByName)("color-minty-green-400"),
                        bottomLineColor: (0, wn.getHexColorByName)("color-ripe-red-500"),
                        bottomFillColor1: (0, kn.applyAlpha)((0, wn.getHexColorByName)("color-ripe-red-400"), .05),
                        bottomFillColor2: (0, kn.applyAlpha)((0, wn.getHexColorByName)("color-ripe-red-400"), .5)
                    },
                    buyHold: {
                        color: (0, wn.getHexColorByName)("color-tv-blue-500")
                    }
                },
                On = {
                    textColor: (0, wn.getHexColorByName)("color-cold-gray-300"),
                    drawDown: {
                        color: (0, kn.applyAlpha)("#9013FE", .25)
                    },
                    equity: {
                        topFillColor1: (0, kn.applyAlpha)((0,
                            wn.getHexColorByName)("color-minty-green-400"), .31),
                        topFillColor2: (0, kn.applyAlpha)((0, wn.getHexColorByName)("color-minty-green-400"), .1),
                        topLineColor: (0, wn.getHexColorByName)("color-minty-green-400"),
                        bottomLineColor: (0, wn.getHexColorByName)("color-ripe-red-500"),
                        bottomFillColor1: (0, kn.applyAlpha)((0, wn.getHexColorByName)("color-ripe-red-400"), .05),
                        bottomFillColor2: (0, kn.applyAlpha)((0, wn.getHexColorByName)("color-ripe-red-400"), .5)
                    },
                    buyHold: {
                        color: (0, wn.getHexColorByName)("color-tv-blue-500")
                    }
                };

            function Mn() {
                return En.watchedTheme.value() === Tn.StdTheme.Dark ? On : Bn
            }
            class Wn {
                constructor(e) {
                    this._container = e.container, this._chart = (0, Sn.createChart)(e.container, function() {
                        const e = Mn();
                        return {
                            grid: {
                                horzLines: {
                                    visible: !1
                                },
                                vertLines: {
                                    visible: !1
                                }
                            },
                            timeScale: {
                                borderVisible: !1,
                                lockVisibleTimeRangeOnResize: !0,
                                tickMarkFormatter: (e, t, n) => (new Date(1e3 * e).getUTCFullYear() - 1970).toString(),
                                minBarSpacing: .001
                            },
                            layout: {
                                background: {
                                    type: Sn.ColorType.Solid,
                                    color: "transparent"
                                },
                                textColor: e.textColor,
                                fontSize: 12,
                                fontFamily: Dn.CHART_FONT_FAMILY
                            },
                            localization: {
                                timeFormatter: e => (new Date(1e3 * e).getUTCFullYear() - 1970).toString()
                            },
                            leftPriceScale: {
                                visible: !0,
                                scaleMargins: {
                                    top: 0,
                                    bottom: 0
                                },
                                borderVisible: !1,
                                entireTextOnly: !0
                            },
                            rightPriceScale: {
                                visible: !0,
                                scaleMargins: {
                                    top: 0,
                                    bottom: 0
                                },
                                borderVisible: !1,
                                entireTextOnly: !0
                            },
                            handleScale: {
                                axisPressedMouseMove: {
                                    time: !1,
                                    price: !1
                                },
                                mouseWheel: !1,
                                pinch: !1,
                                axisDoubleClickReset: !1
                            },
                            handleScroll: {
                                mouseWheel: !1,
                                horzTouchDrag: !1,
                                vertTouchDrag: !1,
                                pressedMouseMove: !1
                            },
                            crosshair: {
                                mode: Sn.CrosshairMode.Normal
                            }
                        }
                    }()), this._seriesVisibility = e.visibility, this._onClick = e.onClick, this._updatePriceAxesVisibility();
                    const t = function(e) {
                        const t = Mn(),
                            n = {
                                type: "price",
                                minMove: .01
                            };
                        return {
                            drawDown: {
                                priceFormat: n,
                                priceLineVisible: !1,
                                lastValueVisible: !1,
                                priceScaleId: "right",
                                visible: e.drawDown,
                                ...t.drawDown
                            },
                            equity: {
                                priceFormat: n,
                                priceLineVisible: !1,
                                lastValueVisible: !1,
                                priceScaleId: "left",
                                lineWidth: 1,
                                visible: e.equity,
                                crosshairMarkerVisible: !1,
                                ...t.equity
                            },
                            buyHold: {
                                priceFormat: n,
                                priceLineVisible: !1,
                                lastValueVisible: !1,
                                priceScaleId: "left",
                                lineWidth: 1,
                                visible: e.buyHold,
                                crosshairMarkerVisible: !1,
                                ...t.buyHold
                            }
                        }
                    }(e.visibility);
                    this._series = {
                        drawDown: Rn(this._chart, t.drawDown),
                        equity: In(this._chart, t.equity),
                        buyHold: xn(this._chart, t.buyHold)
                    }, this._watchedThemeSpawn = En.watchedTheme.spawn(), this._watchedThemeSpawn.subscribe((() => {
                        const e = Mn();
                        this._series.drawDown.applyOptions(e.drawDown), this._series.equity.applyOptions(e.equity), this._series.buyHold.applyOptions(e.buyHold), this._chart.applyOptions({
                            layout: {
                                textColor: e.textColor
                            }
                        })
                    })), this._chart.subscribeClick(this._onClick), this.update(e.data, e.percentage)
                }
                update(e, t) {
                    const n = Hn(t ? e.drawDownPercent : e.drawDown, !0),
                        r = Hn(t ? e.equityPercent : e.equity, !1),
                        i = Hn(t ? e.buyHoldPercent : e.buyHold, !1);
                    this._series.drawDown.setData(n), this._series.equity.setData(r), this._series.buyHold.setData(i), n.length > 0 && this._series.drawDown.applyOptions({
                        base: Nn(n)
                    }), r.length > 0 && this._series.equity.applyOptions({
                        baseValue: {
                            type: "price",
                            price: r[0].value
                        }
                    });
                    const a = Math.max(n.length, r.length, i.length);
                    a > 0 && this._chart.timeScale().setVisibleLogicalRange({
                        from: 0,
                        to: a - 1
                    })
                }
                destroy() {
                    this._chart.remove(), this._watchedThemeSpawn.destroy(), this._chart.unsubscribeClick(this._onClick)
                }
                toggleHideChart(e) {
                    Object.keys(e).forEach((t => {
                        const n = e[t];
                        this._series[t].applyOptions({
                            visible: n
                        }), this._seriesVisibility[t] = n
                    })), this._updatePriceAxesVisibility()
                }
                onResize() {
                    this._chart.applyOptions({
                        width: this._container.clientWidth,
                        height: this._container.clientHeight
                    })
                }
                _updatePriceAxesVisibility() {
                    const e = this._seriesVisibility;
                    this._chart.priceScale("left").applyOptions({
                        visible: e.equity || e.buyHold
                    }), this._chart.priceScale("right").applyOptions({
                        visible: e.drawDown
                    })
                }
            }
            var An = n(652384);

            function zn(e) {
                const {
                    overviewFields: t,
                    performanceFields: n,
                    performanceData: r,
                    formatValue: a,
                    formatter: s,
                    chartCurrency: o,
                    dataCurrency: l
                } = e;
                return i.createElement("div", {
                    className: An.container
                }, t.map((e => {
                    const t = n[e];
                    if (!t) return;
                    const c = void 0 !== r.all[e] ? r.all[e] : r[e],
                        u = Je(e),
                        d = r.all[u] || r[u];
                    return i.createElement(Fn, {
                        key: t.title,
                        perfFieldMetaInfo: t,
                        value: c,
                        valuePercent: d,
                        dataCurrency: l,
                        chartCurrency: o,
                        formatter: s,
                        formatValue: a
                    })
                })))
            }

            function Fn(e) {
                const {
                    perfFieldMetaInfo: t,
                    value: r,
                    valuePercent: a,
                    formatValue: s,
                    dataCurrency: c,
                    chartCurrency: u,
                    formatter: d
                } = e, [h, p] = function() {
                    if ("currency" === t.unit) return t.isAlwaysNegative ? [o()(An.negativeValue), o()(An.negativeValue)] : $e(t, r) ? $e(t, a) ? [o()(An.negativeValue), o()(An.negativeValue)] : [o()(An.negativeValue), o()(An.positiveValue)] : $e(t, a) ? [o()(An.positiveValue), o()(An.negativeValue)] : [o()(An.positiveValue), o()(An.positiveValue)];
                    if ("percent" === t.unit) return $e(t, r) ? [o()(An.negativeValue), ""] : [o()(An.positiveValue), ""];
                    if (!t.unit) {
                        if (r > 1) return [o()(An.positiveValue), ""];
                        if (r < 1) return [o()(An.negativeValue), ""]
                    }
                    return ["", ""]
                }();
                return i.createElement("div", {
                    className: An.containerCell
                }, i.createElement("div", {
                    className: An.firstRow
                }, i.createElement("div", {
                    className: An.title
                }, t.title), i.createElement(pe.IconQuestionInformation, {
                    icon: "info",
                    tooltip: t.desc,
                    ariaLabel: t.desc || "",
                    showTooltip: me.showOnElement,
                    hideTooltip: me.hide
                })), i.createElement("div", {
                    className: An.secondRow
                }, function() {
                    const e = s({
                            value: r,
                            unit: t.unit,
                            dataCurrency: c,
                            chartCurrency: u,
                            formatter: d
                        }),
                        m = s({
                            value: a,
                            unit: "percent",
                            dataCurrency: c,
                            chartCurrency: u,
                            formatter: d
                        });
                    return "" === e && "" === m ? i.createElement("div", {
                        className: h
                    }, l.t(null, void 0, n(343088))) : i.createElement(i.Fragment, null, i.createElement("div", {
                        className: h
                    }, e), i.createElement("div", {
                        className: o()(p, An.additionalPercent)
                    }, m))
                }()))
            }
            var Ln = n(182120),
                qn = n(55220),
                Kn = n(223414),
                Un = n(162819),
                Jn = n(34995),
                $n = n(732845);
            const jn = [{
                label: l.t(null, void 0, n(129520)),
                id: "absolute",
                disabled: !1
            }, {
                label: l.t(null, void 0, n(936014)),
                id: "percent",
                disabled: !1
            }];

            function Gn(e) {
                const {
                    onTypeSelect: t,
                    onClick: r,
                    dataType: a,
                    chartVisibility: s
                } = e, [o, c] = (0, i.useState)((() => {
                    const e = jn.find((e => e.id === a));
                    return e || jn[0]
                })), u = (0, i.useCallback)((e => {
                    c(e), t(e.id)
                }), [c]), d = (0, i.useCallback)((e => o.id === e.id), [o]);
                return i.createElement("div", {
                    className: $n.container
                }, i.createElement("div", {
                    className: $n.checkBoxes
                }, i.createElement(Ln.Checkbox, {
                    label: i.createElement(Yn, {
                        label: l.t(null, void 0, n(959005)),
                        icon: Un
                    }),
                    onChange: () => {
                        r("equity")
                    },
                    checked: s.equity
                }), i.createElement(Ln.Checkbox, {
                    label: i.createElement(Yn, {
                        label: l.t(null, void 0, n(424488)),
                        icon: Jn
                    }),
                    onChange: () => {
                        r("drawDown")
                    },
                    checked: s.drawDown
                }), i.createElement(Ln.Checkbox, {
                    label: i.createElement(Yn, {
                        label: l.t(null, void 0, n(492126)),
                        icon: Kn
                    }),
                    onChange: () => {
                        r("buyHold")
                    },
                    checked: s.buyHold
                })), i.createElement("div", {
                    className: $n.tabs
                }, i.createElement(qn.SquareTabs, {
                    id: "backtesting-drawdown-overview-tabs",
                    items: jn,
                    size: "xsmall",
                    onActivate: u,
                    isActive: d,
                    enableActiveStateStyles: !1,
                    overflowBehaviour: "none"
                })))
            }

            function Yn(e) {
                return i.createElement("div", {
                    className: $n.checkboxContainer
                }, i.createElement("span", {
                    className: $n.label
                }, e.label), i.createElement(yt.Icon, {
                    icon: e.icon
                }))
            }
            var Zn = n(779660);
            const Qn = ln.drawdown.settings,
                Xn = {
                    miniChart: !0,
                    legend: !0
                };

            function er(e) {
                const {
                    reportsData: t,
                    isStatic: n,
                    gotoDate: a
                } = e, {
                    timezone: s,
                    resolution: o,
                    chartCurrency: l,
                    formatter: c
                } = (0, i.useContext)(X), u = (0, i.useRef)(null), d = (0, i.useRef)(null);

                function h(t, n) {
                    return e.persistSettings ? _n.getJSON(t, n) : n
                }

                function p(t, n) {
                    e.persistSettings && _n.setJSON(t, n)
                }
                const [m, g] = (0, i.useState)(Xn), [y, v] = (0, i.useState)(h("backtesting_overview_data_type", Qn.dataType || "absolute")), [f, b] = (0, i.useState)(h("backtesting_overview_visibility", Cn)), _ = Boolean(t && t.performance && t.drawDown && t.equity && t.drawDown.length >= 2 && t.equity.length >= 2);
                return (0, i.useEffect)((() => () => {
                    m.miniChart && d.current && (d.current.destroy(), d.current = null)
                }), [m.miniChart]), (0, i.useEffect)((() => {
                    function e(e) {
                        if (!t) return;
                        const n = e.logical,
                            r = t.trades ? t.trades[n] : null;
                        if (r) {
                            const e = r.x.tm,
                                t = r.x.tp,
                                n = Ft(e, s, o.isIntraday());
                            a(n, "se" === t || "lx" === t)
                        }
                    }
                    if (m.miniChart) return !_ && d.current ? (d.current.destroy(), void(d.current = null)) : void(d.current ? d.current.update((0, r.ensureNotNull)(t), "percent" === y) : u.current && (d.current = new Wn({
                        data: (0, r.ensureNotNull)(t),
                        container: u.current,
                        percentage: "percent" === y,
                        visibility: f,
                        onClick: e
                    })))
                }), [y, t, m.miniChart, _]), (0, i.useEffect)((() => {
                    d.current && d.current.toggleHideChart(f)
                }), [f]), (0, i.useEffect)((() => {
                    function t() {
                        if (!u.current) return;
                        let e, t, n = !0;
                        d.current || (n = !1);
                        const r = Qn.miniChartMinHeight || 20;
                        u.current.clientHeight < r ? (e = !1, t = !1) : (e = !0, t = !0), g({
                            miniChart: e,
                            legend: t
                        }), d.current && n && d.current.onResize()
                    }
                    if (_) return n ? t() : (e.height.subscribe(t, {
                        callWithLast: !0
                    }), e.width.subscribe(t, {
                        callWithLast: !0
                    })), () => {
                        _ && (n || (e.height.unsubscribe(t), e.width.unsubscribe(t)))
                    }
                }), [_]), _ ? i.createElement("div", {
                    className: Zn.reportContainer
                }, i.createElement(zn, {
                    overviewFields: ln.drawdown.settings.overviewPerformanceFields,
                    performanceFields: ln.performance.settings.fields,
                    formatValue: un,
                    performanceData: (0, r.ensureNotNull)(t).performance,
                    dataCurrency: (0, r.ensureNotNull)(t).currency,
                    chartCurrency: l,
                    formatter: c
                }), i.createElement("div", {
                    className: Zn.chartContainer,
                    ref: u
                }), m.legend && i.createElement("div", {
                    className: Zn.legendContainer
                }, i.createElement(Gn, {
                    onTypeSelect: e => {
                        p("backtesting_overview_data_type", e), v(e)
                    },
                    onClick: e => {
                        const t = f[e];
                        p("backtesting_overview_visibility", { ...f,
                            [e]: !t
                        }), b({ ...f,
                            [e]: !t
                        })
                    },
                    chartVisibility: f,
                    dataType: y
                }))) : i.createElement(Zt, null)
            }
            var tr = n(692831),
                nr = n(788872),
                rr = n(564049);

            function ir(e) {
                const {
                    dataNumberCell: t,
                    fieldMetaInfo: r,
                    formatValue: a,
                    dataCurrency: o,
                    chartCurrency: c,
                    formatter: u
                } = e, d = function(e, t) {
                    const i = new Array;
                    if (null == e) return i.push(l.t(null, void 0, n(343088))), i;
                    if (i.push(a({
                            value: e,
                            unit: r.unit,
                            dataCurrency: o,
                            chartCurrency: c,
                            formatter: u
                        })), null == t) return i;
                    return i.push(a({
                        value: t,
                        unit: "percent",
                        dataCurrency: o,
                        chartCurrency: c,
                        formatter: u
                    })), i
                }(t.valueNumber, t.percentNumber);
                return i.createElement("div", {
                    className: rr.value
                }, i.createElement(i.Fragment, null, d.map((e => {
                    const t = e.includes("−") || parseFloat(e) < 0,
                        n = e.includes("%"),
                        a = r.title + e;
                    return i.createElement("div", {
                        className: s(t && rr.negativeValue, n && rr.percentValue),
                        key: a.replace(/\s/g, "_")
                    }, e)
                }))))
            }
            n(567886);
            const ar = {
                    key: "Invisible",
                    title: "",
                    dataType: nr.DataType.Object
                },
                sr = {
                    columns: [{
                        key: "Title",
                        title: l.t(null, void 0, n(767369)),
                        dataType: nr.DataType.Object
                    }, {
                        key: "All",
                        title: l.t(null, void 0, n(695271)),
                        dataType: nr.DataType.Object
                    }, {
                        key: "Long",
                        title: l.t(null, void 0, n(273064)),
                        dataType: nr.DataType.Object
                    }, {
                        key: "Short",
                        title: l.t(null, void 0, n(777851)),
                        dataType: nr.DataType.Object
                    }],
                    rowKeyField: "id"
                };

            function or(e) {
                const {
                    fields: t,
                    performanceData: r,
                    formatValue: a,
                    isStatic: s,
                    layoutType: c,
                    chartCurrency: u,
                    dataCurrency: d,
                    formatter: h
                } = e, [p, m] = (0, i.useState)(sr), g = Object.keys(t).map(((e, t) => ({
                    Title: e,
                    All: e,
                    Long: e,
                    Short: e,
                    Invisible: void 0,
                    id: t
                })));
                (0, i.useEffect)((() => {
                    m(0 === c ? { ...p,
                        columns: p.columns.concat([ar])
                    } : { ...p,
                        columns: p.columns.filter((e => "Invisible" !== e.key))
                    })
                }), [c]);
                return i.createElement(tr.Table, { ...p,
                    data: g,
                    dispatch: e => {
                        m((t => (0, tr.kaReducer)(t, e)))
                    },
                    childComponents: {
                        rootDiv: {
                            elementAttributes: () => ({
                                className: rr.root
                            })
                        },
                        table: {
                            elementAttributes: () => ({
                                "data-selector": "table",
                                style: {}
                            })
                        },
                        tableWrapper: {
                            elementAttributes: () => ({
                                style: {
                                    overflow: "visible"
                                }
                            })
                        },
                        headCell: {
                            elementAttributes: () => ({
                                className: o()(rr.headCell, s && rr.staticBackground, 1 === c && rr.headSmallPadding)
                            })
                        },
                        cell: {
                            content: e => {
                                if ("Invisible" === e.field) return i.createElement(i.Fragment, null);
                                const p = e.value;
                                if ("Title" === e.field) {
                                    const e = t[p].solutionId;
                                    return i.createElement("div", {
                                        className: rr.titleContainer
                                    }, i.createElement("div", {
                                        className: o()("apply-overflow-tooltip", rr.title, 0 !== c || s ? rr.wrapped : rr.noWrapped)
                                    }, t[p].title), e && i.createElement(ge, {
                                        solutionId: e,
                                        className: rr.solution,
                                        tooltip: l.t(null, void 0, n(308014))
                                    }))
                                } {
                                    const n = Je(p),
                                        s = e.field.toLowerCase(),
                                        o = Ue(r[s][p], r[s][n]);
                                    if (void 0 !== o.valueNumber) return i.createElement(ir, {
                                        dataNumberCell: o,
                                        fieldMetaInfo: t[p],
                                        formatValue: a,
                                        dataCurrency: d,
                                        chartCurrency: u,
                                        formatter: h
                                    });
                                    if ("All" === e.field) {
                                        const e = Ue(r[p], r[n]);
                                        return i.createElement(ir, {
                                            dataNumberCell: e,
                                            fieldMetaInfo: t[p],
                                            formatValue: a,
                                            dataCurrency: d,
                                            chartCurrency: u,
                                            formatter: h
                                        })
                                    }
                                    return i.createElement(i.Fragment, null)
                                }
                            },
                            elementAttributes: () => ({
                                className: o()(rr.cell, 1 === c && rr.cellSmallPadding)
                            })
                        },
                        dataRow: {
                            elementAttributes: () => ({
                                className: o()(rr.row, s && rr.staticBackground, s && rr.rowStatic)
                            })
                        }
                    }
                })
            }
            var lr = n(175951);
            const cr = ln.performance.settings;

            function ur(e) {
                const {
                    isStatic: t,
                    dataCurrency: n,
                    performanceData: r
                } = e, {
                    layoutType: a,
                    chartCurrency: s,
                    formatter: o
                } = (0, i.useContext)(X);
                return r ? i.createElement("div", {
                    className: lr.reportContainer
                }, i.createElement(or, {
                    fields: cr.fields,
                    isStatic: t,
                    layoutType: a,
                    formatValue: un,
                    chartCurrency: s,
                    dataCurrency: n,
                    formatter: o,
                    performanceData: r
                })) : i.createElement(Zt, null)
            }
            var dr = n(598313);
            const hr = ["x", "e"];

            function pr(e) {
                const {
                    cell: t,
                    tradersType: n,
                    formatValue: r,
                    chartCurrency: a,
                    dataCurrency: s,
                    formatter: l
                } = e;
                return null === t.valueNumber || null === t.percentNumber ? i.createElement(i.Fragment, null) : i.createElement("div", {
                    className: o()(dr.profitData, dr.rightAlign, dr.cell)
                }, void 0 !== t.valueNumber && i.createElement("div", {
                    className: o()((t.valueNumber < 0 || "dd" === n) && dr.negativeValue)
                }, r({
                    value: t.valueNumber,
                    unit: "currency",
                    dataCurrency: s,
                    chartCurrency: a,
                    formatter: l
                })), void 0 !== t.percentNumber && i.createElement("div", {
                    className: o()(dr.percentValue, (t.percentNumber < 0 || "dd" === n) && dr.negativeValue)
                }, r({
                    value: t.percentNumber,
                    unit: "percent",
                    dataCurrency: s,
                    chartCurrency: a,
                    formatter: l
                })))
            }

            function mr(e) {
                const {
                    formatValue: t,
                    data: r,
                    getOrderDate: a,
                    gotoDate: s,
                    scrollPosition: c,
                    onCellClickEvent: u,
                    setScrollPosition: d,
                    height: h,
                    timezone: p,
                    intraday: m,
                    chartCurrency: g,
                    dataCurrency: y,
                    formatter: v
                } = e, [f, b] = (0, i.useState)((() => {
                    const e = {
                        columns: [{
                            key: "tr",
                            title: l.t(null, void 0, n(889516)),
                            dataType: nr.DataType.Number
                        }, {
                            key: "type",
                            title: l.t(null, void 0, n(158416)),
                            dataType: nr.DataType.Object
                        }, {
                            key: "sg",
                            title: l.t(null, void 0, n(397251)),
                            dataType: nr.DataType.Object
                        }, {
                            key: "dt",
                            title: l.t(null, void 0, n(59536)),
                            dataType: nr.DataType.Object
                        }, {
                            key: "pr",
                            title: l.t(null, void 0, n(25684)),
                            dataType: nr.DataType.Object
                        }, {
                            key: "cr",
                            title: l.t(null, void 0, n(689469)),
                            dataType: nr.DataType.String
                        }, {
                            key: "tp",
                            title: l.t(null, void 0, n(486323)),
                            dataType: nr.DataType.Object
                        }, {
                            key: "cp",
                            title: l.t(null, void 0, n(806557)),
                            dataType: nr.DataType.Object
                        }, {
                            key: "rn",
                            title: l.t(null, void 0, n(831555)),
                            dataType: nr.DataType.Object
                        }, {
                            key: "dd",
                            title: l.t(null, void 0, n(424488)),
                            dataType: nr.DataType.Object
                        }],
                        sortingMode: nr.SortingMode.Single,
                        rowKeyField: "id",
                        virtualScrolling: {
                            enabled: !0
                        }
                    };
                    return e.virtualScrolling && (e.virtualScrolling = { ...e.virtualScrolling,
                        scrollTop: c.scrollTop
                    }), e.columns[0].sortDirection = function() {
                        const e = ee.TVLocalStorage.getItem("backtesting");
                        if (!e) return null;
                        const t = JSON.parse(e).sort_direction_list_of_trades;
                        if (t) return t;
                        return null
                    }() || nr.SortDirection.Descend, e
                })), _ = (0, i.useRef)(null), C = (0, i.useMemo)((() => null == r ? void 0 : r.map(((e, t) => ({
                    tr: `${t+1}`,
                    type: e,
                    sg: e,
                    dt: e,
                    pr: e,
                    cr: `${e.q}`,
                    tp: e,
                    cp: e,
                    rn: e,
                    dd: e,
                    id: t
                })))), [r]);
                (0, i.useEffect)((() => {
                    var e;
                    null === (e = _.current) || void 0 === e || e.scrollTo({
                        top: c.scrollTop,
                        left: c.scrollLeft,
                        behavior: "auto"
                    })
                }), []);
                const S = (e, t) => {
                        u();
                        const n = Ft(e, p, m);
                        s(n, "se" === t || "lx" === t)
                    },
                    w = (e, {
                        baseFunc: t
                    }) => {
                        t(e), 0 !== e.currentTarget.scrollTop ? f.virtualScrolling && f.virtualScrolling.scrollTop && d({
                            scrollTop: Math.round(f.virtualScrolling.scrollTop),
                            scrollLeft: Math.round(e.currentTarget.scrollLeft)
                        }) : d({
                            scrollTop: 0,
                            scrollLeft: Math.round(e.currentTarget.scrollLeft)
                        })
                    };
                return h <= 0 ? i.createElement(i.Fragment, null) : i.createElement(tr.Table, { ...f,
                    data: C,
                    dispatch: e => {
                        if (e.type === nr.ActionType.UpdateSortDirection) {
                            const e = f.columns[0].sortDirection === nr.SortDirection.Descend ? nr.SortDirection.Ascend : nr.SortDirection.Descend;
                            Be({
                                sort_direction_list_of_trades: e
                            })
                        }
                        b((t => (0, tr.kaReducer)(t, e)))
                    },
                    virtualScrolling: { ...f.virtualScrolling,
                        tbodyHeight: h,
                        itemHeight: 98
                    },
                    childComponents: {
                        rootDiv: {
                            elementAttributes: () => ({
                                className: dr.root
                            })
                        },
                        table: {
                            elementAttributes: () => ({
                                "data-selector": "table",
                                style: {
                                    tableLayout: "auto"
                                }
                            })
                        },
                        tableWrapper: {
                            elementAttributes: () => ({
                                className: o()(dr.tableWrapper, e.isStatic && dr.static),
                                onScroll: w,
                                ref: _,
                                style: {
                                    maxHeight: h
                                }
                            })
                        },
                        headCell: {
                            elementAttributes: ({
                                column: {
                                    key: e,
                                    title: t
                                }
                            }) => {
                                const n = ["pr", "cr", "tp", "cp", "rn", "dd"].includes(e);
                                return {
                                    className: o()(dr.headCell, n && dr.rightAlign)
                                }
                            },
                            content: e => {
                                if ("tr" !== e.column.key) return e.column.title
                            }
                        },
                        cell: {
                            content: e => {
                                const r = e.value;
                                if ("tr" === e.field) return i.createElement("span", null, r);
                                if ("type" === e.field) return i.createElement(i.Fragment, null, hr.map((e => i.createElement("div", {
                                    className: o()("apply-overflow-tooltip", "apply-overflow-tooltip--check-children", "apply-overflow-tooltip--allow-text"),
                                    key: e + r[e].tp
                                }, i.createElement("div", {
                                    className: o()("ka-cell", dr.valueCell, "x" === e && dr.border),
                                    onClick: () => S(r[e].tm, r[e].tp)
                                }, i.createElement("span", null, ke(r[e].tp)))))));
                                if ("sg" === e.field) return i.createElement(i.Fragment, null, hr.map((e => {
                                    const t = !r[e].c,
                                        a = t ? l.t(null, void 0, n(539280)) : r[e].c;
                                    return i.createElement("div", {
                                        className: o()("apply-overflow-tooltip", "apply-overflow-tooltip--check-children", "apply-overflow-tooltip--allow-text"),
                                        key: e + r[e].c
                                    }, i.createElement("div", {
                                        className: o()("ka-cell", dr.valueCell, t && dr.openPosition, "x" === e && dr.border),
                                        onClick: () => S(r[e].tm, r[e].tp)
                                    }, i.createElement("span", null, a)))
                                })));
                                if ("dt" === e.field) return i.createElement(i.Fragment, null, hr.map((e => {
                                    const t = !r[e].c,
                                        n = !t && r[e].tm && a(r[e].tm) || "Open";
                                    return i.createElement("div", {
                                        className: o()("apply-overflow-tooltip", "apply-overflow-tooltip--check-children", "apply-overflow-tooltip--allow-text"),
                                        key: e + r[e].tm
                                    }, i.createElement("div", {
                                        className: o()("ka-cell", t ? dr.openCell : dr.valueCell, "x" === e && dr.border),
                                        onClick: () => S(r[e].tm, r[e].tp)
                                    }, i.createElement("span", {
                                        className: t ? dr.invisibleText : void 0
                                    }, n)))
                                })));
                                if ("pr" === e.field) return i.createElement(i.Fragment, null, hr.map((e => {
                                    const n = !r[e].c,
                                        a = !n && "number" == typeof r[e].p && t({
                                            value: r[e].p,
                                            unit: "series",
                                            dataCurrency: y,
                                            chartCurrency: g,
                                            formatter: v
                                        }) || "Open";
                                    return i.createElement("div", {
                                        className: o()("apply-overflow-tooltip", "apply-overflow-tooltip--check-children", "apply-overflow-tooltip--allow-text"),
                                        key: e + r[e].p
                                    }, i.createElement("div", {
                                        className: o()("ka-cell", dr.rightAlign, n ? dr.openCell : dr.valueCell, "x" === e && dr.border),
                                        onClick: () => S(r[e].tm, r[e].tp)
                                    }, i.createElement("span", {
                                        className: n ? dr.invisibleText : void 0
                                    }, a)))
                                })));
                                if ("cr" === e.field) return i.createElement("div", {
                                    className: dr.rightAlign
                                }, i.createElement("span", null, r));
                                const s = function(e, t, n) {
                                    if (!e) {
                                        const e = t[n].v;
                                        return void 0 !== t[n].p ? {
                                            valueNumber: e,
                                            percentNumber: t[n].p
                                        } : {
                                            valueNumber: e
                                        }
                                    }
                                    return {}
                                }(!1, r, e.field);
                                return i.createElement(pr, {
                                    cell: s,
                                    tradersType: e.field,
                                    formatValue: t,
                                    dataCurrency: y,
                                    chartCurrency: g,
                                    formatter: v
                                })
                            },
                            elementAttributes: ({
                                column: {
                                    key: e,
                                    title: t
                                }
                            }) => {
                                const n = ["type", "sg", "dt", "pr"].includes(e);
                                return {
                                    className: o()(!n && dr.wrapperCell, n && dr.wrapperValueCell)
                                }
                            }
                        },
                        dataRow: {
                            elementAttributes: () => ({
                                className: dr.row
                            })
                        }
                    }
                })
            }

            function gr(e) {
                const {
                    height: t,
                    scrollPosition: n,
                    reportsData: a,
                    isStatic: s,
                    gotoDate: o,
                    dataCurrency: l,
                    isDeepHistory: u,
                    setScrollPosition: d
                } = e, {
                    timezone: h,
                    resolution: p,
                    chartCurrency: m,
                    formatter: g
                } = (0, i.useContext)(X), y = p.isIntraday(), v = p.isSeconds(), f = (0, c.useWatchedValueReadonly)({
                    watchedValue: t
                });
                if (!Ke(a)) return i.createElement(Zt, null);
                return i.createElement(mr, {
                    height: f,
                    scrollPosition: n,
                    data: (0, r.ensureNotNull)((0, r.ensureDefined)(a)).trades,
                    isStatic: s,
                    gotoDate: o,
                    timezone: h,
                    formatValue: un,
                    getOrderDate: function(e, t = !1) {
                        return zt(e, y, v, h, t)
                    },
                    dataCurrency: l,
                    chartCurrency: m,
                    formatter: g,
                    intraday: p.isIntraday(),
                    setScrollPosition: d,
                    onCellClickEvent: function() {
                        (0, be.trackStrategyTesterButtonClick)(u ? "deep_history_on" : "deep_history_off", {
                            activeTab: "List of Trades",
                            button: "click_on_list"
                        })
                    }
                })
            }
            var yr = n(359647);

            function vr(e) {
                const t = (0, i.useContext)(X),
                    {
                        deepHistoryCurrentRequestParams: n,
                        deepHistoryReportData: r,
                        activeReportTab: a,
                        resetDeepHistoryReport: s,
                        layoutType: l,
                        strategy: c,
                        userInputsState: u,
                        timezone: d,
                        formatter: h,
                        resolution: p,
                        extendedSymbol: m,
                        deepHistoryDateRange: g
                    } = t,
                    y = (0, i.useRef)(!1),
                    [v, f] = function(e) {
                        const [t, n] = (0, i.useState)(!1), [r, a] = (0, i.useState)(void 0);
                        return (0, i.useEffect)((() => {
                            function t(e) {
                                a(e || {
                                    error: "DefaultError",
                                    msg: ""
                                })
                            }
                            if (!e.deepHistoryCurrentRequestParams) return;
                            const r = { ...e.deepHistoryCurrentRequestParams,
                                    deepHistoryDateRange: gt(e.deepHistoryCurrentRequestParams.deepHistoryDateRange)
                                },
                                i = new mt(r, e.setDataRequestInProgress);
                            return i.loading.subscribe(n, {
                                callWithLast: !0
                            }), i.onError.subscribe(null, t), i.onData(e.onData, !0), () => {
                                i.loading.unsubscribe(n), i.onError.unsubscribe(null, t), i.destroy(), n(!1)
                            }
                        }), [e.deepHistoryCurrentRequestParams]), [t, r]
                    }({
                        onData: e.onData,
                        setDataRequestInProgress: e => {
                            y.current = e
                        },
                        deepHistoryCurrentRequestParams: n
                    });
                vn({ ...t,
                    onCSVReportRequest: e.onCSVReportRequest,
                    hidden: e.hidden,
                    reportsData: r
                });
                const [b, _] = (0, i.useState)((() => je(1))), [C, S] = (0, i.useState)(Fe), w = (0, i.useRef)(!1), k = e => {
                    _({ ...b,
                        [e]: !b[e]
                    })
                };
                if ((0, i.useEffect)((() => {
                        w.current && (w.current = !1, Ge(b, 1))
                    }), [b]), (0, i.useEffect)((() => {
                        !0 === y.current && s()
                    }), [e.hidden, e.width, e.height, c, d, h, p, m, s, g, u]), (0, i.useEffect)((() => {
                        f && e.onError(f)
                    }), [f]), (0, i.useEffect)((() => {
                        function t() {
                            y.current && (y.current = !1, s())
                        }
                        return e.activeChartChanged.subscribe(null, t), () => {
                            e.activeChartChanged.subscribe(null, t)
                        }
                    }), [e.activeChartChanged]), !r && !v && !e.hidden) return i.createElement(bn, {
                    height: e.height
                });
                return i.createElement("div", {
                    className: o()("backtesting-content-wrapper", 1 === l ? yr.widgetContainerWide : yr.widgetContainer, e.hidden && yr.hidden)
                }, v && i.createElement(Ze.Spinner, {
                    size: "large"
                }), !v && function() {
                    if (!r || e.hidden) return i.createElement(i.Fragment, null);
                    switch (a) {
                        case "Performance Summary":
                            return i.createElement(ur, {
                                performanceData: r.performance,
                                dataCurrency: r.currency,
                                isStatic: !1
                            });
                        case "Properties":
                            return i.createElement(Xt, {
                                data: r,
                                selectedSections: b,
                                setSelectedSections: k
                            });
                        case "Overview":
                            return i.createElement(er, {
                                width: e.width,
                                height: e.height,
                                reportsData: r,
                                isStatic: !1,
                                gotoDate: e.gotoDate,
                                persistSettings: e.persistSettings
                            });
                        case "List of Trades":
                            return i.createElement(gr, {
                                height: e.height,
                                reportsData: r,
                                isDeepHistory: !0,
                                isStatic: !1,
                                gotoDate: e.gotoDate,
                                scrollPosition: C,
                                setScrollPosition: S,
                                dataCurrency: null == r ? void 0 : r.currency
                            })
                    }
                }())
            }
            var fr = n(823127);
            class br extends ht {
                constructor(e) {
                    var t;
                    super(), this._onData = e => {
                        switch (e && e.method) {
                            case "data_update":
                                this._updateData((0, r.ensureDefined)(e.nonSeriesData));
                                break;
                            case "study_loading":
                                this.loading.setValue(!0);
                                break;
                            case "study_completed":
                                this.loading.setValue(!1);
                                break;
                            case "study_error":
                                this.onError.fire()
                        }
                    }, this._strategy = e, this._setData(this._strategy.reportData()), null === (t = this._strategy) || void 0 === t || t.watchedData.subscribe(this._onData, {
                        callWithLast: !0
                    })
                }
                destroy() {
                    var e;
                    super.destroy(), null === (e = this._strategy) || void 0 === e || e.watchedData.unsubscribe(this._onData), this._strategy = null
                }
                _updateData(e) {
                    if (!0 === e.indexes_replace) return;
                    let t = e && e.data && e.data.report;
                    const n = this.getCurrentData();
                    e.isUpdate && n && (t = fr.extend({}, n, t)), n && t === n || this._setData(t)
                }
            }
            var _r = n(124679);

            function Cr(e) {
                const t = (0, i.useContext)(X),
                    {
                        strategy: n,
                        activeReportTab: r
                    } = t,
                    [a, s] = (0, i.useState)(null),
                    [l, c] = function(e) {
                        const [t, n] = (0, i.useState)(!1), [r, a] = (0, i.useState)(void 0);
                        return (0, i.useEffect)((() => {
                            function t(t) {
                                a(t || {
                                    error: "DefaultError",
                                    msg: ""
                                }), e.onData(null), n(!1)
                            }
                            if (e.hidden || null === e.strategy) return;
                            const r = new br(e.strategy);
                            return r.loading.subscribe(n, {
                                callWithLast: !0
                            }), r.onError.subscribe(null, t), r.onData(e.onData, !0), () => {
                                n(!1), r.loading.unsubscribe(n), r.onError.unsubscribe(null, t), r.destroy()
                            }
                        }), [e.strategy, e.hidden]), [t, r]
                    }({
                        strategy: n,
                        onData: s,
                        hidden: e.hidden
                    });
                vn({ ...t,
                    onCSVReportRequest: e.onCSVReportRequest,
                    hidden: e.hidden,
                    reportsData: a
                });
                const [u, d] = (0, i.useState)((() => je(0, e.isStatic))), [h, p] = (0, i.useState)(Fe), m = (0, i.useRef)(!1), g = e => {
                    d({ ...u,
                        [e]: !u[e]
                    })
                };
                return (0, i.useEffect)((() => {
                    m.current && (m.current = !1, Ge(u, 1))
                }), [u]), (0, i.useEffect)((() => {
                    c && e.onError && e.onError(c)
                }), [c]), i.createElement("div", {
                    className: o()("backtesting-content-wrapper", _r.widgetContainer, e.hidden && _r.hidden, e.isStatic && _r.staticContainer)
                }, l && i.createElement(Ze.Spinner, {
                    size: "large"
                }), !l && function() {
                    if (e.hidden) return i.createElement(i.Fragment, null);
                    switch (r) {
                        case "Performance Summary":
                            return i.createElement(ur, {
                                performanceData: null == a ? void 0 : a.performance,
                                isStatic: e.isStatic,
                                dataCurrency: null == a ? void 0 : a.currency
                            });
                        case "Properties":
                            return i.createElement(Xt, {
                                data: a,
                                selectedSections: u,
                                setSelectedSections: g
                            });
                        case "Overview":
                            return i.createElement(er, {
                                width: e.width,
                                height: e.height,
                                reportsData: a,
                                isStatic: e.isStatic,
                                gotoDate: e.gotoDate,
                                persistSettings: e.persistSettings
                            });
                        case "List of Trades":
                            return i.createElement(gr, {
                                height: e.height,
                                reportsData: a,
                                isDeepHistory: !1,
                                isStatic: e.isStatic,
                                gotoDate: e.gotoDate,
                                scrollPosition: h,
                                setScrollPosition: p,
                                dataCurrency: null == a ? void 0 : a.currency
                            })
                    }
                }())
            }
            var Sr = n(957973);

            function wr(e) {
                (0, h.trackEvent)("Strategy Tester", "BP Strategy Tester " + e)
            }

            function kr(e, t) {
                const n = e.symbolInfo();
                return t.formatter = (0, r.ensureNotNull)(e.formatter()), t.userInputsState = Ne(t.strategy), t.chartCurrency = Pe(n), t.minTick = Ve(n), t
            }
            let Er;

            function Tr(e) {
                const {
                    bridge: t,
                    strategyDispatcher: a,
                    chartWidgetCollection: s,
                    visibility: h
                } = e, m = (0, i.useRef)(new(g())), _ = t.isStatic || !1, C = (0, r.ensureNotNull)(a.model()).model(), S = C.mainSeries(), w = (0, i.useRef)(new(g())), [k, T] = (0, i.useState)();
                let D = null;
                const R = (0, c.useWatchedValueReadonly)({
                        watchedValue: h
                    }),
                    [I, x] = (0, i.useReducer)(Oe, {
                        widgetType: 0,
                        symbol: e.symbol,
                        extendedSymbol: e.extendedSymbol,
                        deepHistoryDateRange: e.deepHistoryDateRange,
                        resolution: e.resolution,
                        strategy: e.activeStrategy || e.strategies[0] || null,
                        strategies: e.strategies,
                        deepHistoryCurrentRequestParams: null,
                        deepHistoryReportData: e.deepHistoryReportData || null,
                        deepHistoryPrevRequestParams: null,
                        deepHistoryPrevReportData: null,
                        generateReportButtonEnabled: !0,
                        strategyHintProps: {
                            isRangeBasedStyle: e.isRangeBasedStudy
                        },
                        tzProperty: e.tzProperty,
                        timezone: e.timezone,
                        minTickProperty: e.minTickProperty,
                        activeReportTab: "Overview",
                        csvReportProgress: !1,
                        chartStyle: Ae(S, s.activeChartStyle.value()),
                        pointValue: S.pointValue(),
                        layoutType: !_ && t.width.value() < 1279 ? 1 : 0,
                        formatter: null,
                        userInputsState: null,
                        chartCurrency: null,
                        minTick: null
                    }, kr.bind(null, S));
                _ || function(e, t, n) {
                    const r = (0, i.useRef)([]),
                        a = (0, i.useRef)(e),
                        s = (0, b.usePrevious)(e);
                    (0, i.useEffect)((() => () => {
                        a.current && (a.current.properties().unsubscribe(null, o), a.current = null), c(), r.current = []
                    }), []);
                    const o = (0, i.useCallback)((() => {
                            setTimeout((() => {
                                n({
                                    type: "onUserInputsChange"
                                })
                            }), 0)
                        }), []),
                        l = (0, i.useCallback)((() => {
                            0 !== r.current.length && r.current.forEach((e => {
                                e.properties().subscribe(null, o)
                            }))
                        }), []),
                        c = (0, i.useCallback)((() => {
                            0 !== r.current.length && r.current.forEach((e => {
                                e.properties().unsubscribe(null, o)
                            }))
                        }), []);
                    (0, i.useEffect)((() => {
                        if (!e) return c(), r.current = [], void(a.current && (a.current.properties().unsubscribe(null, o), a.current = null));
                        a.current ? e.id() === a.current.id() && s || (a.current.properties().unsubscribe(null, o), a.current = e, a.current.properties().subscribe(null, o)) : a.current = e;
                        const t = function() {
                            if (!e) return [];
                            const t = E(e);
                            return 0 === t.length ? [] : t.length !== r.current.length ? t : r.current.every(((e, n) => e.id() === t[n].id())) ? r.current : t
                        }();
                        (t.length !== r.current.length || t.some(((e, t) => e.id() !== r.current[t].id()))) && (c(), r.current = t, l())
                    }), [e, t])
                }(I.strategy, I.userInputsState, x);
                const N = (0, i.useMemo)((() => new Me(I.strategies, I.strategy, Ye(s))), []),
                    H = function(e, t, n, a) {
                        const s = (0, r.ensureNotNull)(e.model()).model().mainSeries(),
                            o = (0, i.useRef)(s);
                        return null === o.current && (o.current = s), (0, i.useEffect)((() => {
                            const i = (i, s, l, c) => {
                                const u = (0, r.ensureNotNull)(e.model()).mainSeries(),
                                    d = u.symbolInfo(),
                                    h = u.properties().childs().minTick;
                                t.setCurrentChartId(Ye(n)), a({
                                    type: "updateStateOnChartChange",
                                    newStrategies: s,
                                    symbolInfo: d,
                                    minTickProperty: h,
                                    selectedStrategyManager: t,
                                    chartChanged: l,
                                    strategyToSelect: c,
                                    resolution: u.intervalObj(),
                                    isRangeBasedStyle: u.isRangeBasedStyle(),
                                    tzProperty: u.model().properties().childs().timezone,
                                    formatter: u.formatter(),
                                    chartCurrency: Pe(u.symbolInfo()),
                                    chartStyle: Ae(u, n.activeChartStyle.value()),
                                    pointValue: u.pointValue(),
                                    minTick: Ve(d),
                                    symbolStr: u.proSymbol(),
                                    extendedSymbol: u.getSymbolString()
                                }), l && (o.current = u)
                            };
                            return e.change().subscribe(null, i), () => {
                                e.change().unsubscribe(null, i), o.current = null
                            }
                        }), []), o.current
                    }(a, N, s, x);
                (0, i.useEffect)((() => {
                    const e = e => {
                        x({
                            type: "onLayoutWidthChange",
                            width: e
                        })
                    };
                    return _ || t.width.subscribe(e), () => {
                        _ || t.width.unsubscribe(e)
                    }
                }), []), (0, i.useEffect)((() => {
                    function e() {
                        w.current.fire()
                    }

                    function t() {
                        clearTimeout(Er), Er = setTimeout((() => {
                            H && x({
                                type: "onUpdateChartStyle",
                                chartStyle: Ae(H, s.activeChartStyle.value())
                            })
                        }), 200)
                    }
                    return s.activeChartWidget.subscribe(e), _ || (d.linking.proSymbol.subscribe(O), s.activeChartStyle.subscribe(t)), () => {
                        s.activeChartWidget.unsubscribe(e), d.linking.proSymbol.unsubscribe(O), s.activeChartStyle.unsubscribe(t)
                    }
                }), [H]), (0, i.useEffect)((() => ((0, f.getQuoteSessionInstance)("full").subscribe("FirstBarTime", I.symbol, (e => {
                    const {
                        values: t
                    } = e;
                    I.resolution.isDWM() && t.first_bar_time_1d ? T(1e3 * t.first_bar_time_1d) : I.resolution.isSeconds() && t.first_bar_time_1s ? T(1e3 * t.first_bar_time_1s) : (I.resolution.isMinutes() || I.resolution.isMinuteHours()) && t.first_bar_time_1m ? T(1e3 * t.first_bar_time_1m) : T(new Date(ae).getTime())
                })), () => {
                    (0, f.getQuoteSessionInstance)("full").unsubscribe("FirstBarTime", I.symbol)
                })), [I.resolution, I.symbol]), (0, i.useEffect)((() => {
                    if (!H) return;
                    const e = e => {
                        var t;
                        x({
                            type: "onTimezoneChange",
                            symbolInfoTimezone: (null === (t = H.symbolInfo()) || void 0 === t ? void 0 : t.timezone) || null,
                            tzProperty: e
                        })
                    };
                    return null === I.tzProperty || _ || I.tzProperty.subscribe(null, e), () => {
                        null === I.tzProperty || _ || I.tzProperty.unsubscribe(null, e)
                    }
                }), [I.tzProperty, H]), (0, i.useEffect)((() => {
                    function e(e) {
                        H && e && x({
                            type: "onMinTickChange",
                            symbolInfo: H.symbolInfo(),
                            formatter: H.formatter()
                        })
                    }
                    if (H) return null === I.minTickProperty || _ || I.minTickProperty.subscribe(null, e), () => {
                        null === I.minTickProperty || _ || I.minTickProperty.unsubscribe(null, e)
                    }
                }), [I.minTickProperty, H]), (0, i.useEffect)((() => {
                    var e;
                    return I.strategy && a.setActiveStrategy(I.strategy), null === (e = t.container) || void 0 === e || e.addEventListener("contextmenu", W), () => {
                        var e;
                        a.unsetActiveStrategy(), null === (e = t.container) || void 0 === e || e.removeEventListener("contextmenu", W)
                    }
                }), [I.strategy, C]);
                const B = (0, i.useCallback)((() => {
                        if (!H) return;
                        const e = H.symbolInfo();
                        x({
                            type: "updateSymbol",
                            symbolInfo: e,
                            chartCurrency: Pe(e),
                            chartStyle: Ae(H, s.activeChartStyle.value()),
                            pointValue: H.pointValue(),
                            symbolStr: H.proSymbol(),
                            extendedSymbol: H.getSymbolString(),
                            strategyHintProps: V(I.widgetType, H.isRangeBasedStyle()),
                            formatter: H.formatter(),
                            resolution: H.intervalObj()
                        })
                    }), [H]),
                    O = (0, i.useCallback)((() => {
                        clearTimeout(Er), Er = setTimeout((() => {
                            B()
                        }), 200)
                    }), [B]);
                (0, i.useEffect)((() => {
                    function e() {
                        x({
                            type: "setResolution",
                            resolution: this.intervalObj()
                        })
                    }
                    if (!_ && H) return clearTimeout(Er), H.dataEvents().symbolResolved().subscribe(null, O), H.onIntervalChanged().subscribe(H, e), H.onRestarted().subscribe(H, B), H.currencyChanged().subscribe(null, O), H.properties().childs().sessionId.subscribe(null, O), H.properties().childs().dividendsAdjustment.subscribe(null, B), () => {
                        _ || (H.dataEvents().symbolResolved().unsubscribe(null, O), H.onIntervalChanged().unsubscribe(H, e), H.onRestarted().unsubscribe(H, B), H.currencyChanged().unsubscribe(null, O), H.properties().childs().sessionId.unsubscribe(null, O), H.properties().childs().dividendsAdjustment.unsubscribe(null, B))
                    }
                }), [H, O]);
                const W = e => {
                        e.preventDefault();
                        const t = [],
                            r = new p.TVAction({
                                label: (0, y.appendEllipsis)(l.t(null, void 0, n(546205))),
                                onExecute: () => {
                                    const e = s.activeChartWidget.value();
                                    I.strategy && e.showChartPropertiesForSource(I.strategy)
                                }
                            });
                        t.push(r);
                        const i = new p.TVAction({
                            label: (0, y.appendEllipsis)(l.t(null, void 0, n(658623))),
                            onExecute: () => {
                                if (!I.strategy) return;
                                const e = {
                                    scriptIdPart: I.strategy.metaInfo().scriptIdPart
                                };
                                window.TradingView.bottomWidgetBar && window.TradingView.bottomWidgetBar.activateScriptEditorTab(e)
                            }
                        });
                        t.push(i), v.ContextMenuManager.showMenu(t, e)
                    },
                    A = (0, i.useCallback)((e => {
                        H && x({
                            type: "setActiveReportTab",
                            reportTab: e,
                            isRangeBasedStyle: H.isRangeBasedStyle()
                        })
                    }), [H]),
                    z = (0, i.useCallback)((e => {
                        x({
                            type: "setStrategyHintProps",
                            strategyHintProps: {
                                hasDeepHistoryError: "DefaultError" === e.error,
                                hasDeepHistoryFetchError: "FetchError" === e.error,
                                errorText: e.msg,
                                warningType: "notaccurate"
                            },
                            generateReportButtonEnabled: !0
                        })
                    }), []),
                    F = (0, i.useCallback)((e => {
                        x({
                            type: "setStrategyHintProps",
                            strategyHintProps: e
                        })
                    }), []),
                    L = (0, i.useCallback)((() => {
                        x({
                            type: "resetReport"
                        })
                    }), []);
                const q = (0, i.useCallback)((e => {
                        x({
                            type: "setDeepHistoryDateRange",
                            deepHistoryDateRange: e
                        })
                    }), []),
                    K = (0, i.useCallback)((e => {
                        x({
                            type: "setStrategy",
                            strategy: e,
                            selectedStrategyManager: N
                        })
                    }), [C]),
                    U = (0, i.useCallback)((e => {
                        x({
                            type: "setGenerateReportButtonEnabled",
                            enabled: e
                        })
                    }), []),
                    J = (0, i.useCallback)((() => {
                        x({
                            type: "onGenerateButtonClick"
                        })
                    }), []),
                    $ = (0, i.useCallback)((e => {
                        H && null !== e && x({
                            type: "onDeepHistoryDataUpdate",
                            deepHistoryReportData: e,
                            isRangeBasedStyle: H.isRangeBasedStyle()
                        })
                    }), [H]),
                    j = (0, i.useCallback)((e => {
                        x({
                            type: "setCSVReportInProgress",
                            inProgress: e
                        })
                    }), []);

                function G(e, t) {
                    if (_) return;
                    const n = s.activeChartWidget.value().model().model(),
                        r = n.mainSeries();
                    n.gotoTime(e).then((e => {
                        void 0 === e ? r.clearGotoDateResult() : (D && clearTimeout(D), r.setGotoDateResult(e, t), D = setTimeout((() => {
                            r && (r.clearGotoDateResult(), n.updateSource(r), D = null)
                        }), 5e3))
                    }))
                }
                return R ? i.createElement(X.Provider, {
                    value: { ...I,
                        setDeepHistoryDateRange: q,
                        setStrategy: K,
                        setGenerateReportButtonEnabled: U,
                        setErrorHint: z,
                        setActiveReportTab: A,
                        setCSVReportProgress: j,
                        setWidgetType: function(e) {
                            H && x({
                                type: "setWidgetType",
                                widgetType: e,
                                isRangeBasedStyle: H.isRangeBasedStyle()
                            })
                        },
                        resetDeepHistoryReport: L
                    }
                }, i.createElement(u.CustomBehaviourContext.Provider, {
                    value: window.TradingView.onChartPage ? u.presetPlatform : u.presetDefault
                }, 0 === I.strategies.length ? i.createElement(M, {
                    studyMarket: t.studyMarket,
                    height: t.height
                }) : i.createElement(i.Fragment, null, I.strategy && i.createElement("div", {
                    className: o()(Sr.backtestingHeadWrapper, _ && Sr.staticHeadWrapper)
                }, i.createElement(we, { ...I,
                    deepHistoryTabsEnabled: 0 === I.widgetType || !!I.deepHistoryReportData,
                    chartWidgetCollection: s,
                    trackEvent: wr,
                    onGenerateReportClickCb: J,
                    onCSVReportRequest: m.current,
                    isStatic: _,
                    layoutType: I.layoutType,
                    firstBarTime: k
                })), i.createElement(Cr, {
                    width: t.width,
                    height: t.height,
                    isStatic: _,
                    hidden: 1 === I.widgetType,
                    onCSVReportRequest: m.current,
                    gotoDate: G,
                    persistSettings: !t.isStatic
                }), !_ && i.createElement(i.Fragment, null, i.createElement(vr, {
                    width: t.width,
                    height: t.height,
                    onData: $,
                    gotoDate: G,
                    hidden: 0 === I.widgetType,
                    onError: z,
                    onCSVReportRequest: m.current,
                    activeChartChanged: w.current,
                    persistSettings: !t.isStatic
                }), i.createElement("div", {
                    className: Sr.backtestingWarningContainer
                }, i.createElement(P, { ...I.strategyHintProps,
                    removeCb: () => F({})
                })))))) : i.createElement(i.Fragment, null)
            }
            n(879823);
            class Dr {
                constructor(e) {
                    if (this._deepHistoryContainer = document.createElement("div"), this._visibility = new(dt())(!0), !(this instanceof Dr)) throw new Error("BacktestingWidget is a constructor");
                    this._bridge = e, this._dispatcher = e.backtestingStrategyDispatcher, this._deepHistoryContainer.classList.add("backtesting", "deep-history"), e.container.append(this._deepHistoryContainer), this._dispatcher.ready().then(this._init.bind(this))
                }
                show() {
                    this._deepHistoryContainer && this._visibility.setValue(!0)
                }
                hide() {
                    this._deepHistoryContainer && this._visibility.setValue(!1)
                }
                destroy() {
                    var e;
                    this._deepHistoryContainer && (e = this._deepHistoryContainer, requestAnimationFrame((() => {
                        a.unmountComponentAtNode(e)
                    })))
                }
                _init() {
                    var e;
                    const t = (0, r.ensureNotNull)(this._dispatcher.model()).model(),
                        n = this._dispatcher.strategies(),
                        s = t.mainSeries(),
                        o = s.intervalObj(),
                        l = re(o),
                        c = this._dispatcher.recentlyAddedStrategy() || function(e) {
                            const t = ee.TVLocalStorage.getItem("backtesting");
                            if (!t) return null;
                            const n = JSON.parse(t).strategy_id;
                            return e.find((e => e.id() === n)) || null
                        }(n),
                        u = s.isRangeBasedStyle(),
                        d = t.properties().childs().timezone,
                        h = Re(d, (null === (e = s.symbolInfo()) || void 0 === e ? void 0 : e.timezone) || null),
                        p = s.properties().childs().minTick;
                    var m, g;
                    m = this._deepHistoryContainer, g = {
                        visibility: this._visibility,
                        bridge: this._bridge,
                        strategyDispatcher: this._dispatcher,
                        chartWidgetCollection: this._bridge.chartWidgetCollection,
                        resolution: o,
                        activeStrategy: c,
                        strategies: n,
                        symbol: s.proSymbol(),
                        extendedSymbol: s.getSymbolString(),
                        deepHistoryDateRange: l,
                        isRangeBasedStudy: u,
                        tzProperty: d,
                        timezone: h,
                        minTickProperty: p
                    }, a.render(i.createElement(Tr, g), (0, r.ensureNotNull)(m))
                }
            }
        },
        689612: e => {
            e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M7.26 4.44a.75.75 0 0 1 1.05.07l3.5 4c.25.28.25.7 0 .98l-3.5 4a.75.75 0 0 1-1.12-.98L10.25 9 7.2 5.5a.75.75 0 0 1 .07-1.06Z"/></svg>'
        },
        385319: e => {
            e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" fill-rule="evenodd" d="M4.56 2a2.56 2.56 0 0 0-1.97 4.19c.7-1.6 2-2.9 3.6-3.6A2.54 2.54 0 0 0 4.56 2zM1 4.56c0 1.07.47 2.03 1.22 2.68A7.01 7.01 0 0 0 9 16v-1a6 6 0 1 1 6-6h1c0-.6-.08-1.2-.22-1.76a3.55 3.55 0 1 0-5.02-5.02 7.01 7.01 0 0 0-3.52 0A3.55 3.55 0 0 0 1 4.56zm10.81-1.97c1.6.7 2.9 2 3.6 3.6a2.56 2.56 0 0 0-3.6-3.6zM9 5v4H6v1h4V5H9zm4 8v-3h1v3h3v1h-3v3h-1v-3h-3v-1h3z"/></svg>'
        },
        191035: e => {
            e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M9 4a2 2 0 0 0 1.59-.79c.5.14.98.34 1.42.6L12 4a2 2 0 0 0 2.2 2c.25.43.45.9.59 1.41a2 2 0 0 0 0 3.18c-.14.5-.34.98-.6 1.42a2 2 0 0 0-2.18 2.18c-.44.26-.92.46-1.42.6a2 2 0 0 0-3.18 0c-.5-.14-.98-.34-1.42-.6L6 14a2 2 0 0 0-2.2-2 5.96 5.96 0 0 1-.59-1.41 2 2 0 0 0 0-3.18c.14-.5.34-.98.6-1.42L4 6a2 2 0 0 0 2-2.2c.43-.25.9-.45 1.41-.59A2 2 0 0 0 9 4zm1.53-1.83c-.29-.07-.54.16-.7.4a1 1 0 0 1-1.65 0c-.17-.24-.42-.47-.7-.4a6.9 6.9 0 0 0-2.27.94c-.23.15-.26.47-.22.75L5 4a1 1 0 0 1-1.14.99c-.28-.04-.6-.01-.75.22a6.96 6.96 0 0 0-.94 2.26c-.07.29.16.54.4.7a1 1 0 0 1 0 1.65c-.24.17-.47.42-.4.7.18.82.5 1.59.94 2.27.15.23.47.26.75.22L4 13a1 1 0 0 1 .99 1.14c-.04.28-.01.6.22.75.68.44 1.45.76 2.26.94.29.07.54-.16.7-.4a1 1 0 0 1 1.65 0c.17.24.42.47.7.4a6.9 6.9 0 0 0 2.27-.94c.23-.15.26-.47.22-.75a1 1 0 0 1 1.13-1.13c.28.04.6.01.75-.22.44-.68.76-1.45.94-2.26.07-.29-.16-.54-.4-.7a1 1 0 0 1 0-1.65c.24-.17.47-.42.4-.7a6.96 6.96 0 0 0-.94-2.27c-.15-.23-.47-.26-.75-.22a1 1 0 0 1-1.13-1.13c.04-.28.01-.6-.22-.75a6.96 6.96 0 0 0-2.26-.94zM9 12a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0z"/></svg>'
        },
        396607: e => {
            e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M9 4.09V11h1V4.09l2.67 2.29.66-.76-3.5-3-.33-.28-.33.28-3.5 3 .66.76L9 4.08ZM4 14v-3H3v3a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-3h-1v3H4Z"/></svg>'
        },
        162819: e => {
            e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="m12.95 6.28-.45-.9-.45.9-1.55 3.1-.55-1.1-.45-.9-.45.9-2 4 .9.44 1.55-3.1.55 1.1.45.9.45-.9 1.55-3.1 2.55 5.1.9-.44-3-6ZM2.5 15H3v-1h-.5v1ZM4 15h1v-1H4v1Zm2 0h1v-1H6v1Zm2 0h1v-1H8v1Zm2-1v1h1v-1h-1Zm2 0v1h1v-1h-1Zm2 1h1v-1h-1v1Zm2 0h1v-1h-1v1Zm2 0h1v-1h-1v1Zm2 0h1v-1h-1v1Zm2 0h1v-1h-1v1Zm2 0h1v-1h-1v1Zm2 0h.5v-1H26v1ZM4.05 18.28l1-2 .9.44-1 2-.9-.44Zm19.9-5.56 1-2-.9-.44-1 2 .9.44Zm-6 3.56-.9.44 2 4 .45.9.45-.9 2-4-.9-.44-1.55 3.1-1.55-3.1Z"/></svg>'
        },
        223414: e => {
            e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="M11.98 16.69 17.2 12h3.04l4.14-4.67-.74-.66L19.78 11H16.8L12 15.31 9 12.3l-4.35 4.36.7.7L9 13.71l2.98 2.98Z"/></svg>'
        },
        34995: e => {
            e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" fill-rule="evenodd" d="M12 7v14h5V7h-5Zm4 1h-3v12h3V8ZM19 15v6h5v-6h-5Zm4 1h-3v4h3v-4ZM5 12h5v9H5v-9Zm1 1h3v7H6v-7Z"/></svg>'
        },
        117105: e => {
            e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path stroke="currentColor" stroke-width="1.2" d="m1.5 1.5 21 21m0-21-21 21"/></svg>'
        },
        315130: e => {
            e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path stroke="currentColor" stroke-width="1.2" d="m1.5 1.5 15 15m0-15-15 15"/></svg>'
        },
        663346: e => {
            e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" width="12" height="12"><path stroke="currentColor" stroke-width="1.2" d="m1.5 1.5 9 9m0-9-9 9"/></svg>'
        },
        534983: e => {
            e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10" width="10" height="10"><path stroke="currentColor" stroke-width="1.2" d="m1.5 1.5 7 7m0-7-7 7"/></svg>'
        },
        661380: e => {
            e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 10" width="20" height="10"><path fill="none" stroke="currentColor" stroke-width="1.5" d="M2 1l8 8 8-8"/></svg>'
        },
        789351: e => {
            e.exports = '<svg xmlns="http://www.w3.org/2000/svg" width="13" height="14" fill="none"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.5 1.5l5 5.5-5 5.5"/></svg>'
        }
    }
]);